<?xml version="1.0" encoding="utf-8"?>
<root>
  <xsd:schema id="root" xmlns="" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata">
    <xsd:element name="root" msdata:IsDataSet="true">
      <xsd:complexType>
        <xsd:choice maxOccurs="unbounded">
          <xsd:element name="data">
            <xsd:complexType>
              <xsd:sequence>
                <xsd:element name="value" type="xsd:string" minOccurs="0" msdata:Ordinal="1" />
                <xsd:element name="comment" type="xsd:string" minOccurs="0" msdata:Ordinal="2" />
              </xsd:sequence>
              <xsd:attribute name="name" type="xsd:string" msdata:Ordinal="1" />
              <xsd:attribute name="type" type="xsd:string" msdata:Ordinal="3" />
              <xsd:attribute name="mimetype" type="xsd:string" msdata:Ordinal="4" />
            </xsd:complexType>
          </xsd:element>
          <xsd:element name="resheader">
            <xsd:complexType>
              <xsd:sequence>
                <xsd:element name="value" type="xsd:string" minOccurs="0" msdata:Ordinal="1" />
              </xsd:sequence>
              <xsd:attribute name="name" type="xsd:string" use="required" />
            </xsd:complexType>
          </xsd:element>
        </xsd:choice>
      </xsd:complexType>
    </xsd:element>
  </xsd:schema>
<resheader name="resmimetype"><value>text/microsoft-resx</value></resheader><resheader name="version"><value>1.3</value></resheader><resheader name="reader"><value>System.Resources.ResXResourceReader, System.Windows.Forms, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089</value></resheader><resheader name="writer"><value>System.Resources.ResXResourceWriter, System.Windows.Forms, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089</value></resheader><data name="Code" mimetype="application/x-microsoft.net.object.binary.base64"><value>AAEAAAD/////AQAAAAAAAAAEAQAAABZTeXN0ZW0uSU8uTWVtb3J5U3RyZWFtCQAAAAdfYnVmZmVyB19vcmlnaW4JX3Bvc2l0aW9uB19sZW5ndGgJX2NhcGFjaXR5C19leHBhbmRhYmxlCV93cml0YWJsZQpfZXhwb3NhYmxlB19pc09wZW4HAAAAAAAAAAACCAgICAEBAQEJAgAAAAAAAADxJgEA8SYBAPEmAQABAQEBDwIAAADxJgEAAu+7vy8vICAgIHRva2VuaXplci5Db2RlR2VuLmRsbCBkeWxhbi5ORVQuVG9rZW5pemVyLkNvZGVHZW4gQ29weXJpZ2h0IChDKSAyMDEzIER5bGFuIEJvcmcgPGJvcmdkeWxhbkBob3RtYWlsLmNvbT4KLy8gICAgVGhpcyBsaWJyYXJ5IGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlCi8vIEZvdW5kYXRpb247IGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCi8vICAgIFRoaXMgbGlicmFyeSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLCBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSAKLy9QQVJUSUNVTEFSIFBVUlBPU0UuIFNlZSB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCi8vICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhbG9uZyB3aXRoIHRoaXMgbGlicmFyeTsgaWYgbm90LCB3cml0ZSB0byB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBJbmMuLCA1OSBUZW1wbGUgCi8vUGxhY2UsIFN1aXRlIDMzMCwgQm9zdG9uLCBNQSAwMjExMS0xMzA3IFVTQSAKCmNsYXNzIHB1YmxpYyBTdG10UmVhZGVyCgoJbWV0aG9kIHB1YmxpYyBwcm90b3R5cGUgdm9pZCBSZWFkKHZhciBzdG0gYXMgU3RtdCwgdmFyIGZwYXRoIGFzIHN0cmluZykKCgltZXRob2QgcHVibGljIEN1c3RvbUF0dHJpYnV0ZUJ1aWxkZXIgQXR0clN0bXRUb0NBQih2YXIgc3RtIGFzIEF0dHJTdG10KQoJCXZhciB0eXAgYXMgSUtWTS5SZWZsZWN0aW9uLlR5cGUgPSBudWxsCgkJaWYgIXN0bTo6Q3Rvcjo6TmFtZTo6VmFsdWU6OkVuZHNXaXRoKCJBdHRyaWJ1dGUiKSB0aGVuCgkJCXR5cCA9IEhlbHBlcnM6OkNvbW1pdEV2YWxUVG9rKG5ldyBUeXBlVG9rKHN0bTo6Q3Rvcjo6TmFtZTo6VmFsdWUgKyAiQXR0cmlidXRlIikpCgkJZW5kIGlmCgkJaWYgIXR5cCB0aGVuCgkJCXR5cCA9IEhlbHBlcnM6OkNvbW1pdEV2YWxUVG9rKHN0bTo6Q3Rvcjo6TmFtZSkKCQllbmQgaWYKCQlpZiAhdHlwIHRoZW4KCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgc3RyaW5nOjpGb3JtYXQoIlRoZSBBdHRyaWJ1dGUgQ2xhc3MgJ3swfScgd2FzIG5vdCBmb3VuZC4iLCBzdG06OkN0b3I6Ok5hbWU6OlRvU3RyaW5nKCkpKQoJCWVuZCBpZgoKCQl2YXIgZGlhID0gTG9hZGVyOjpDYWNoZWRMb2FkQ2xhc3MoIlN5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5EbGxJbXBvcnRBdHRyaWJ1dGUiKQoJCWlmIGRpYSAhPSBudWxsIHRoZW4KCQkJaWYgdHlwOjpFcXVhbHMoZGlhKSB0aGVuCgkJCQlTeW1UYWJsZTo6UElJbmZvID0gbmV3IFBJbnZva2VJbmZvKCkge0xpYk5hbWUgPSAkc3RyaW5nJEhlbHBlcnM6OkxpdGVyYWxUb0NvbnN0KCRMaXRlcmFsJHN0bTo6Q3Rvcjo6UGFyYW1zOjpnZXRfSXRlbSgwKTo6VG9rZW5zOjpnZXRfSXRlbSgwKSl9CgkJCQlyZXR1cm4gbnVsbAoJCQllbmQgaWYKCQllbmQgaWYKCgkJaWYgdHlwOjpnZXRfTmFtZSgpID09ICJBc3NlbWJseU5ldXRyYWxBdHRyaWJ1dGUiIHRoZW4KCQkJSUxFbWl0dGVyOjpBTklGbGcgPSB0cnVlCgkJZW5kIGlmCgkJCgkJdmFyIHRhcnIgYXMgSUtWTS5SZWZsZWN0aW9uLlR5cGVbXSA9IG5ldyBJS1ZNLlJlZmxlY3Rpb24uVHlwZVtzdG06OkN0b3I6OlBhcmFtczo6Z2V0X0NvdW50KCldCgkJdmFyIG9hcnIgYXMgb2JqZWN0W10gPSBuZXcgb2JqZWN0W3N0bTo6Q3Rvcjo6UGFyYW1zOjpnZXRfQ291bnQoKV0KCQkKCQl2YXIgaSBhcyBpbnRlZ2VyID0gLTEKCQlmb3JlYWNoIHBhcmFtIGluIHN0bTo6Q3Rvcjo6UGFyYW1zCgkJCWkrKwoJCQl2YXIgY2kgPSBIZWxwZXJzOjpQcm9jZXNzQ29uc3RFeHByKHBhcmFtKQoJCQl0YXJyW2ldID0gY2k6OlR5cAoJCQlvYXJyW2ldID0gY2k6OlZhbHVlCgkJZW5kIGZvcgoJCQoJCXZhciBwaWFyciBhcyBDNS5JTGlzdDxvZiBQcm9wZXJ0eUluZm8+ID0gbmV3IEM1LkxpbmtlZExpc3Q8b2YgUHJvcGVydHlJbmZvPigpCgkJdmFyIHBvYXJyIGFzIEM1LklMaXN0PG9mIG9iamVjdD4gPSBuZXcgQzUuTGlua2VkTGlzdDxvZiBvYmplY3Q+KCkKCQl2YXIgZmlhcnIgYXMgQzUuSUxpc3Q8b2YgRmllbGRJbmZvPiA9IG5ldyBDNS5MaW5rZWRMaXN0PG9mIEZpZWxkSW5mbz4oKQoJCXZhciBmb2FyciBhcyBDNS5JTGlzdDxvZiBvYmplY3Q+ID0gbmV3IEM1LkxpbmtlZExpc3Q8b2Ygb2JqZWN0PigpCgkJdmFyIHRlbXBwcm9wIGFzIFByb3BlcnR5SW5mbyA9IG51bGwKCQl2YXIgdGVtcGZsZCBhcyBGaWVsZEluZm8gPSBudWxsCgkJCgkJZm9yZWFjaCBjdXJwYWlyIGluIHN0bTo6UGFpcnMKCQkJdmFyIG11bHRmbGcgYXMgYm9vbGVhbiA9IHRydWUKCQkJdGVtcHByb3AgPSBIZWxwZXJzOjpHZXRFeHRQcm9wKHR5cCxjdXJwYWlyOjpOYW1lOjpWYWx1ZSkKCQkJaWYgdGVtcHByb3AgIT0gbnVsbCB0aGVuCgkJCQlwaWFycjo6QWRkKHRlbXBwcm9wKQoJCQllbHNlCgkJCQl0ZW1wZmxkID0gSGVscGVyczo6R2V0RXh0RmxkKHR5cCxjdXJwYWlyOjpOYW1lOjpWYWx1ZSkKCQkJCWlmIHRlbXBmbGQgIT0gbnVsbCB0aGVuCgkJCQkJZmlhcnI6OkFkZCh0ZW1wZmxkKQoJCQkJCW11bHRmbGcgPSBmYWxzZQoJCQkJZWxzZQoJCQkJCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsIHN0cmluZzo6Rm9ybWF0KCJQcm9wZXJ0eSBvciBGaWVsZCB7MH0gZG9lcyBub3QgZXhpc3QgaW4gdGhlIGF0dHJpYnV0ZSBjbGFzcyB7MX0iLCBjdXJwYWlyOjpOYW1lOjpWYWx1ZSwgdHlwOjpUb1N0cmluZygpKSkKCQkJCWVuZCBpZgoJCQllbmQgaWYKCQkJCgkJCXZhciBjaSA9IEhlbHBlcnM6OlByb2Nlc3NDb25zdEV4cHIoY3VycGFpcjo6VmFsdWVFeHByKQoJCQlpZiBtdWx0ZmxnIHRoZW4KCQkJCXBvYXJyOjpBZGQoY2k6OlZhbHVlKQoJCQllbHNlCgkJCQlmb2Fycjo6QWRkKGNpOjpWYWx1ZSkKCQkJZW5kIGlmCgkJZW5kIGZvcgoKCQl2YXIgY3RvcmluZiA9IEhlbHBlcnM6OkdldExvY0N0b3IodHlwLHRhcnIpCgkJaWYgIWN0b3JpbmYgdGhlbgoJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCBzdHJpbmc6OkZvcm1hdCgiVGhlIENvbnN0cnVjdG9yIHdpdGggdGhlIGdpdmVuIHBhcmFtZXRlciB0eXBlcyBpcyBub3QgZGVmaW5lZC9hY2Nlc3NpYmxlIGZvciB0aGUgY2xhc3MgJ3swfScuIiwgdHlwOjpUb1N0cmluZygpKSkKCQllbmQgaWYKCgkJcmV0dXJuIG5ldyBDdXN0b21BdHRyaWJ1dGVCdWlsZGVyKGN0b3JpbmYsIG9hcnIsIHBpYXJyOjpUb0FycmF5KCksIHBvYXJyOjpUb0FycmF5KCksIGZpYXJyOjpUb0FycmF5KCksIGZvYXJyOjpUb0FycmF5KCkpCgllbmQgbWV0aG9kCgkKCW1ldGhvZCBwdWJsaWMgdm9pZCBSZWFkQ2xhc3ModmFyIGNsc3MgYXMgQ2xhc3NTdG10KQoJCUlMRW1pdHRlcjo6U3RydWN0RmxnID0gZmFsc2UKCQlJTEVtaXR0ZXI6OlBhcnRpYWxGbGcgPSBmYWxzZQoJCUlMRW1pdHRlcjo6SW50ZXJmYWNlRmxnID0gZmFsc2UKCQlJTEVtaXR0ZXI6OlN0YXRpY0NGbGcgPSBmYWxzZQoJCUlMRW1pdHRlcjo6QWJzdHJhY3RDRmxnID0gZmFsc2UKCgkJU3ltVGFibGU6OlJlc2V0VHlwR2VuUGFyYW1zKCkKCgkJdmFyIGluaHR5cCBhcyBJS1ZNLlJlZmxlY3Rpb24uVHlwZSA9IG51bGwKCQl2YXIgaW50ZXJmdHlwIGFzIElLVk0uUmVmbGVjdGlvbi5UeXBlID0gbnVsbAoJCXZhciByZWZ0IGFzIElLVk0uUmVmbGVjdGlvbi5UeXBlID0gY2xzczo6SW5oQ2xhc3M6OlJlZlR5cAoJCXZhciBucmdlbnBhcmFtcyA9IDAKCgkJaWYgY2xzczo6Q2xhc3NOYW1lIGlzIEdlbmVyaWNUeXBlVG9rIHRoZW4KCQkJdmFyIGdtbiA9ICRHZW5lcmljVHlwZVRvayRjbHNzOjpDbGFzc05hbWUKCQkJbnJnZW5wYXJhbXMgPSBnbW46OlBhcmFtczo6Z2V0X0NvdW50KCkKCQllbmQgaWYKCgkJdmFyIHRpMiBhcyBUeXBlSXRlbSA9IFN5bVRhYmxlOjpUeXBlTHN0OjpHZXRUeXBlSXRlbShBc21GYWN0b3J5OjpDdXJuTlMgKyAiLiIgKyBjbHNzOjpDbGFzc05hbWU6OlZhbHVlLCBucmdlbnBhcmFtcykKCgkJaWYgQXNtRmFjdG9yeTo6aW5DbGFzcyB0aGVuCgkJCUFzbUZhY3Rvcnk6OmlzTmVzdGVkID0gdHJ1ZQoJCWVuZCBpZgoJCWlmICFBc21GYWN0b3J5Ojppc05lc3RlZCB0aGVuCgkJCUFzbUZhY3Rvcnk6OmluQ2xhc3MgPSB0cnVlCgkJZW5kIGlmCgkJCQoJCXZhciBjbHNzcGFyYW1zIGFzIFR5cGVBdHRyaWJ1dGVzID0gVHlwZUF0dHJpYnV0ZXM6OkNsYXNzCgkJCgkJaWYgIXRpMiB0aGVuCgkJCWNsc3NwYXJhbXMgPSBIZWxwZXJzOjpQcm9jZXNzQ2xhc3NBdHRycyhjbHNzOjpBdHRycykKCQllbHNlCgkJCUlMRW1pdHRlcjo6SW50ZXJmYWNlRmxnID0gdGkyOjpUeXBlQmxkcjo6Z2V0X0lzSW50ZXJmYWNlKCkKCQkJSUxFbWl0dGVyOjpBYnN0cmFjdENGbGcgPSB0aTI6OlR5cGVCbGRyOjpnZXRfSXNBYnN0cmFjdCgpCgkJCUlMRW1pdHRlcjo6U3RhdGljQ0ZsZyA9IHRpMjo6SXNTdGF0aWMKCQkJSUxFbWl0dGVyOjpBTklGbGcgPSB0aTI6OklzQU5JCgkJCWZvcmVhY2ggYXR0ciBpbiBjbHNzOjpBdHRycwoJCQkJaWYgYXR0ciBpcyBBdHRyaWJ1dGVzLlBhcnRpYWxBdHRyIHRoZW4KCQkJCQlJTEVtaXR0ZXI6OlBhcnRpYWxGbGcgPSB0cnVlCgkJCQkJYnJlYWsKCQkJCWVuZCBpZgoJCQllbmQgZm9yCgkJZW5kIGlmCgoJCXZhciBhc21iIGFzIEFzc2VtYmx5QnVpbGRlciA9IEFzbUZhY3Rvcnk6OkFzbUIKCgkJaWYgIXRpMiB0aGVuCgkJCWlmIElMRW1pdHRlcjo6SW50ZXJmYWNlRmxnIGFuZCAoY2xzczo6Q2xhc3NOYW1lOjpWYWx1ZSBub3RsaWtlICJeSSguKSokIikgdGhlbgoJCQkJU3RyZWFtVXRpbHM6OldyaXRlV2FybihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiSW50ZXJmYWNlIGNsYXNzIG5hbWVzIHNob3VsZCBzdGFydCB3aXRoIHRoZSBsZXR0ZXIgJ0knISIpCgkJCWVuZCBpZgoKCQkJaWYgIUFzbUZhY3Rvcnk6OmlzTmVzdGVkIHRoZW4KCQkJCUFzbUZhY3Rvcnk6OkN1cm5UeXBOYW1lID0gY2xzczo6Q2xhc3NOYW1lOjpWYWx1ZQoJCQkJdmFyIHR5cG5hbWUgPSBBc21GYWN0b3J5OjpDdXJuTlMgKyAiLiIgKyBjbHNzOjpDbGFzc05hbWU6OlZhbHVlICsgICN0ZXJuYXJ5IHtucmdlbnBhcmFtcyA+IDAgPyAiYCIgKyAkc3RyaW5nJG5yZ2VucGFyYW1zLCBzdHJpbmc6OkVtcHR5fQoKCQkJCXZhciBtZGxiID0gQXNtRmFjdG9yeTo6TWRsQgoKCQkJCWlmIElMRW1pdHRlcjo6QU5JRmxnIHRoZW4KCQkJCQl2YXIgYXNtbiA9IG5ldyBBc3NlbWJseU5hbWUodHlwbmFtZSkge3NldF9WZXJzaW9uKG5ldyBWZXJzaW9uKDAsMCwwLDApKX0KCQkJCQlhc21iID0gSUxFbWl0dGVyOjpVbml2OjpEZWZpbmVEeW5hbWljQXNzZW1ibHkoYXNtbiwgQXNzZW1ibHlCdWlsZGVyQWNjZXNzOjpTYXZlKQoJCQkJCW1kbGIgPSBhc21iOjpEZWZpbmVEeW5hbWljTW9kdWxlKHR5cG5hbWUgKyAiLmRsbCIsIHR5cG5hbWUgKyAiLmRsbCIsIGZhbHNlKQoJCQkJZW5kIGlmCgoJCQkJQXNtRmFjdG9yeTo6Q3VyblR5cEIgPSBtZGxiOjpEZWZpbmVUeXBlKHR5cG5hbWUsIGNsc3NwYXJhbXMpCgkJCQlTdHJlYW1VdGlsczo6V3JpdGVMaW5lKHN0cmluZzo6Rm9ybWF0KCJBZGRpbmcgQ2xhc3M6IHswfS57MX0iICwgQXNtRmFjdG9yeTo6Q3Vybk5TLCBjbHNzOjpDbGFzc05hbWU6OlZhbHVlKSkKCgkJCQlpZiBjbHNzOjpDbGFzc05hbWUgaXMgR2VuZXJpY1R5cGVUb2sgdGhlbgoJCQkJCXZhciBnbW4gPSAkR2VuZXJpY1R5cGVUb2skY2xzczo6Q2xhc3NOYW1lCgkJCQkJdmFyIHBhcmFtZGVmcyA9IGdtbjo6UGFyYW1zCgkJCQkJdmFyIGdlbnBhcmFtcyA9IG5ldyBzdHJpbmdbcGFyYW1kZWZzOjpnZXRfQ291bnQoKV0KCQkJCQl2YXIgaSA9IC0xCgkJCQkJZm9yZWFjaCBwZCBpbiBwYXJhbWRlZnMKCQkJCQkJaSsrCgkJCQkJCWdlbnBhcmFtc1tpXSA9IHBkOjpWYWx1ZQoJCQkJCWVuZCBmb3IKCQkJCQlTeW1UYWJsZTo6U2V0VHlwR2VuUGFyYW1zKGdlbnBhcmFtcywgQXNtRmFjdG9yeTo6Q3VyblR5cEI6OkRlZmluZUdlbmVyaWNQYXJhbWV0ZXJzKGdlbnBhcmFtcykpCgkJCQkJbnJnZW5wYXJhbXMgPSBwYXJhbWRlZnM6OmdldF9Db3VudCgpCgkJCQllbmQgaWYKCgkJCWVsc2UKCQkJCUFzbUZhY3Rvcnk6OkN1cm5UeXBCMiA9IEFzbUZhY3Rvcnk6OkN1cm5UeXBCCgkJCQlBc21GYWN0b3J5OjpDdXJuVHlwTmFtZTIgPSBBc21GYWN0b3J5OjpDdXJuVHlwTmFtZQoJCQkJQXNtRmFjdG9yeTo6Q3VyblR5cE5hbWUgPSBjbHNzOjpDbGFzc05hbWU6OlZhbHVlCgkJCQlTeW1UYWJsZTo6Q3VyblR5cEl0ZW0yID0gU3ltVGFibGU6OkN1cm5UeXBJdGVtCgoJCQkJU3RyZWFtVXRpbHM6OldyaXRlTGluZShzdHJpbmc6OkZvcm1hdCgiQWRkaW5nIE5lc3RlZCBDbGFzczogezB9IiwgY2xzczo6Q2xhc3NOYW1lOjpWYWx1ZSkpCgkJCQlBc21GYWN0b3J5OjpDdXJuVHlwQiA9IEFzbUZhY3Rvcnk6OkN1cm5UeXBCMjo6RGVmaW5lTmVzdGVkVHlwZShjbHNzOjpDbGFzc05hbWU6OlZhbHVlICsgIF8KCQkJCQkjdGVybmFyeSB7bnJnZW5wYXJhbXMgPiAwID8gImAiICsgJHN0cmluZyRucmdlbnBhcmFtcywgc3RyaW5nOjpFbXB0eX0sIGNsc3NwYXJhbXMpCgoJCQkJaWYgY2xzczo6Q2xhc3NOYW1lIGlzIEdlbmVyaWNUeXBlVG9rIHRoZW4KCQkJCQl2YXIgZ21uID0gJEdlbmVyaWNUeXBlVG9rJGNsc3M6OkNsYXNzTmFtZQoJCQkJCXZhciBwYXJhbWRlZnMgPSBnbW46OlBhcmFtcwoJCQkJCXZhciBnZW5wYXJhbXMgPSBuZXcgc3RyaW5nW3BhcmFtZGVmczo6Z2V0X0NvdW50KCldCgkJCQkJdmFyIGkgPSAtMQoJCQkJCWZvcmVhY2ggcGQgaW4gcGFyYW1kZWZzCgkJCQkJCWkrKwoJCQkJCQlnZW5wYXJhbXNbaV0gPSBwZDo6VmFsdWUKCQkJCQllbmQgZm9yCgkJCQkJU3ltVGFibGU6OlNldFR5cEdlblBhcmFtcyhnZW5wYXJhbXMsIEFzbUZhY3Rvcnk6OkN1cm5UeXBCOjpEZWZpbmVHZW5lcmljUGFyYW1ldGVycyhnZW5wYXJhbXMpKQoJCQkJCW5yZ2VucGFyYW1zID0gcGFyYW1kZWZzOjpnZXRfQ291bnQoKQoJCQkJZW5kIGlmCgoJCQllbmQgaWYKCQllbHNlCgkJCUFzbUZhY3Rvcnk6OkN1cm5UeXBOYW1lID0gY2xzczo6Q2xhc3NOYW1lOjpWYWx1ZQoJCQlTeW1UYWJsZTo6Q3VyblR5cEl0ZW0gPSB0aTIKCQkJQXNtRmFjdG9yeTo6Q3VyblR5cEIgPSB0aTI6OlR5cGVCbGRyCgkJCVN0cmVhbVV0aWxzOjpXcml0ZUxpbmUoc3RyaW5nOjpGb3JtYXQoIkNvbnRpbnVpbmcgQ2xhc3M6IHswfS57MX0iLCBBc21GYWN0b3J5OjpDdXJuTlMsIGNsc3M6OkNsYXNzTmFtZTo6VmFsdWUpKQoKCQkJaWYgY2xzczo6Q2xhc3NOYW1lIGlzIEdlbmVyaWNUeXBlVG9rIHRoZW4KCQkJCXZhciBnbW4gPSAkR2VuZXJpY1R5cGVUb2skY2xzczo6Q2xhc3NOYW1lCgkJCQl2YXIgcGFyYW1kZWZzID0gZ21uOjpQYXJhbXMKCQkJCXZhciBnZW5wYXJhbXMgPSBuZXcgc3RyaW5nW3BhcmFtZGVmczo6Z2V0X0NvdW50KCldCgkJCQl2YXIgaSA9IC0xCgkJCQlmb3JlYWNoIHBkIGluIHBhcmFtZGVmcwoJCQkJCWkrKwoJCQkJCWdlbnBhcmFtc1tpXSA9IHBkOjpWYWx1ZQoJCQkJZW5kIGZvcgoJCQkJU3ltVGFibGU6OlNldFR5cEdlblBhcmFtcyhnZW5wYXJhbXMsIEFzbUZhY3Rvcnk6OkN1cm5UeXBCOjpEZWZpbmVHZW5lcmljUGFyYW1ldGVycyhnZW5wYXJhbXMpKQoJCQkJbnJnZW5wYXJhbXMgPSBwYXJhbWRlZnM6OmdldF9Db3VudCgpCgkJCWVuZCBpZgoJCWVuZCBpZgoJCQoJCUhlbHBlcnM6OkFwcGx5Q2xzQXR0cnMoKQoKCQl2YXIgdGkgYXMgVHlwZUl0ZW0gPSBudWxsCgoJCWlmICF0aTIgdGhlbgoJCQl0aSA9IG5ldyBUeXBlSXRlbSgjdGVybmFyeXtBc21GYWN0b3J5Ojppc05lc3RlZCA/IHN0cmluZzo6RW1wdHksIEFzbUZhY3Rvcnk6OkN1cm5OUyArICIuIn0gKyBjbHNzOjpDbGFzc05hbWU6OlZhbHVlLCBBc21GYWN0b3J5OjpDdXJuVHlwQikgXwoJCQkJeyBJc1N0YXRpYyA9IElMRW1pdHRlcjo6U3RhdGljQ0ZsZywgTnJHZW5QYXJhbXMgPSBucmdlbnBhcmFtcywgVHlwR2VuUGFyYW1zID0gU3ltVGFibGU6OlR5cEdlblBhcmFtcywgXwoJCQkJSXNBTkkgPSBJTEVtaXR0ZXI6OkFOSUZsZywgQXNtQiA9IGFzbWJ9CgkJCVN5bVRhYmxlOjpDdXJuVHlwSXRlbSA9IHRpCgkJCgkJCWluaHR5cCA9IHJlZnQgPz8gI3Rlcm5hcnkge2Nsc3M6OkluaENsYXNzOjpWYWx1ZTo6Z2V0X0xlbmd0aCgpID09IDAgPyBfCgkJCQkJTG9hZGVyOjpDYWNoZWRMb2FkQ2xhc3MoIlN5c3RlbS5PYmplY3QiKSwgSGVscGVyczo6Q29tbWl0RXZhbFRUb2soY2xzczo6SW5oQ2xhc3MpfQoJCQlpZiAhaW5odHlwIHRoZW4KCQkJCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsIHN0cmluZzo6Rm9ybWF0KCJCYXNlIENsYXNzICd7MH0nIGlzIG5vdCBkZWZpbmVkIG9yIGlzIG5vdCBhY2Nlc3NpYmxlLiIsIGNsc3M6OkluaENsYXNzOjpWYWx1ZSkpCgkJCWVuZCBpZgoJCQlpZiBpbmh0eXAgIT0gbnVsbCB0aGVuCgkJCQlpZiBpbmh0eXA6OmdldF9Jc1NlYWxlZCgpIHRoZW4KCQkJCQlpbmh0eXAgPSBudWxsCgkJCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgc3RyaW5nOjpGb3JtYXQoIkNsYXNzICd7MH0nIGlzIG5vdCBpbmhlcml0YWJsZS4iLCBjbHNzOjpJbmhDbGFzczo6VmFsdWUpKQoJCQkJZW5kIGlmCgkJCWVuZCBpZgoKCQkJaWYgIUlMRW1pdHRlcjo6SW50ZXJmYWNlRmxnIHRoZW4KCQkJCUFzbUZhY3Rvcnk6OkN1cm5UeXBCOjpTZXRQYXJlbnQoaW5odHlwKQoJCQllbmQgaWYKCgkJCXRpOjpJbmhUeXAgPSBpbmh0eXAKCQllbHNlCgkJCWluaHR5cCA9IHRpMjo6SW5oVHlwCgkJZW5kIGlmCgoJCUFzbUZhY3Rvcnk6OkN1cm5JbmhUeXAgPSBpbmh0eXAKCQlJTEVtaXR0ZXI6OlN0cnVjdEZsZyA9IGluaHR5cDo6RXF1YWxzKExvYWRlcjo6Q2FjaGVkTG9hZENsYXNzKCJTeXN0ZW0uVmFsdWVUeXBlIikpCgoJCWlmICF0aTIgdGhlbgoJCQlmb3JlYWNoIGsgaW4gY2xzczo6Z2V0X0NvbnN0cmFpbnRzKCk6OmdldF9LZXlzKCkKCQkJCWlmICFTeW1UYWJsZTo6VHlwR2VuUGFyYW1zOjpDb250YWlucyhrKSB0aGVuCgkJCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgc3RyaW5nOjpGb3JtYXQoIlRoaXMgY2xhc3MgZG9lcyBub3QgaGF2ZSBhIGdlbmVyaWMgdHlwZSBwYXJhbWV0ZXIgbmFtZWQgezB9LiIsIGspKQoJCQkJCWNvbnRpbnVlCgkJCQllbmQgaWYKCgkJCQl2YXIgdHBpID0gU3ltVGFibGU6OlR5cEdlblBhcmFtczo6Z2V0X0l0ZW0oaykKCQkJCXZhciBibGQgPSB0cGk6OkJsZHIKCQkJCXZhciBncGEgPSBHZW5lcmljUGFyYW1ldGVyQXR0cmlidXRlczo6Tm9uZQoKCQkJCWZvcmVhY2ggYyBpbiBjbHNzOjpnZXRfQ29uc3RyYWludHMoKTo6Z2V0X0l0ZW0oaykKCQkJCQlpZiBjIGlzIFN0cnVjdFRvayB0aGVuCgkJCQkJCWdwYSA9IGdwYSBvciBHZW5lcmljUGFyYW1ldGVyQXR0cmlidXRlczo6Tm90TnVsbGFibGVWYWx1ZVR5cGVDb25zdHJhaW50CgkJCQkJZWxzZWlmIGMgaXMgQ2xhc3NUb2sgdGhlbgoJCQkJCQlncGEgPSBncGEgb3IgR2VuZXJpY1BhcmFtZXRlckF0dHJpYnV0ZXM6OlJlZmVyZW5jZVR5cGVDb25zdHJhaW50CgkJCQkJZWxzZWlmIGMgaXMgT3V0VG9rIHRoZW4KCQkJCQkJaWYgSUxFbWl0dGVyOjpJbnRlcmZhY2VGbGcgdGhlbgoJCQkJCQkJZ3BhID0gZ3BhIG9yIEdlbmVyaWNQYXJhbWV0ZXJBdHRyaWJ1dGVzOjpDb3ZhcmlhbnQKCQkJCQkJZWxzZQoJCQkJCQkJU3RyZWFtVXRpbHM6OldyaXRlV2FybihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiQ292YXJpYW5jZSBzaG91bGQgb25seSBiZSB1c2VkIGluIGdlbmVyaWMgaW50ZXJmYWNlcyBvciBkZWxlZ2F0ZXMiKQoJCQkJCQllbmQgaWYKCQkJCQllbHNlaWYgYyBpcyBJblRvayB0aGVuCgkJCQkJCWlmIElMRW1pdHRlcjo6SW50ZXJmYWNlRmxnIHRoZW4KCQkJCQkJCWdwYSA9IGdwYSBvciBHZW5lcmljUGFyYW1ldGVyQXR0cmlidXRlczo6Q29udHJhdmFyaWFudAoJCQkJCQllbHNlCgkJCQkJCQlTdHJlYW1VdGlsczo6V3JpdGVXYXJuKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsICJDb250cmF2YXJpYW5jZSBzaG91bGQgb25seSBiZSB1c2VkIGluIGdlbmVyaWMgaW50ZXJmYWNlcyBvciBkZWxlZ2F0ZXMiKQoJCQkJCQllbmQgaWYKCQkJCQllbHNlaWYgYyBpcyBOZXdUb2sgdGhlbgoJCQkJCQlncGEgPSBncGEgb3IgR2VuZXJpY1BhcmFtZXRlckF0dHJpYnV0ZXM6OkRlZmF1bHRDb25zdHJ1Y3RvckNvbnN0cmFpbnQKCQkJCQkJdHBpOjpIYXNDdG9yID0gdHJ1ZQoJCQkJCWVsc2VpZiBjIGlzIFR5cGVUb2sKCQkJCQkJdmFyIHRvdXQgPSBIZWxwZXJzOjpDb21taXRFdmFsVFRvaygkVHlwZVRvayRjKQoJCQkJCQlpZiAhdG91dCB0aGVuCgkJCQkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCBzdHJpbmc6OkZvcm1hdCgiQ2xhc3MgJ3swfScgaXMgbm90IGRlZmluZWQgb3IgaXMgbm90IGFjY2Vzc2libGUuIiwgYzo6VG9TdHJpbmcoKSkpCgkJCQkJCWVuZCBpZgoJCQkJCQlpZiB0b3V0OjpnZXRfSXNJbnRlcmZhY2UoKSB0aGVuCgkJCQkJCQl0cGk6OkludGVyZmFjZXM6OkFkZCh0b3V0KQoJCQkJCQllbHNlCgkJCQkJCQlibGQ6OlNldEJhc2VUeXBlQ29uc3RyYWludCh0b3V0KQoJCQkJCQkJdHBpOjpCYXNlVHlwZSA9IHRvdXQKCQkJCQkJZW5kIGlmCgkJCQkJZW5kIGlmCgkJCQllbmQgZm9yCgoJCQkJYmxkOjpTZXRHZW5lcmljUGFyYW1ldGVyQXR0cmlidXRlcyhncGEpCgkJCQlibGQ6OlNldEludGVyZmFjZUNvbnN0cmFpbnRzKHRwaTo6SW50ZXJmYWNlczo6VG9BcnJheSgpKQoJCQllbmQgZm9yCgoJCQlpZiAhQXNtRmFjdG9yeTo6aXNOZXN0ZWQgdGhlbgoJCQkJU3ltVGFibGU6OlR5cGVMc3Q6OkFkZFR5cGUodGkpCgkJCWVsc2UKCQkJCVN5bVRhYmxlOjpDdXJuVHlwSXRlbTI6OkFkZFR5cGUodGkpCgkJCWVuZCBpZgoKCQkJZm9yZWFjaCBpbnRlcmYgaW4gY2xzczo6SW1wbEludGVyZmFjZXMKCQkJCWludGVyZnR5cCA9IEhlbHBlcnM6OkNvbW1pdEV2YWxUVG9rKGludGVyZikKCQkJCWlmIGludGVyZnR5cCA9PSBudWxsIHRoZW4KCQkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCBzdHJpbmc6OkZvcm1hdCgiQ2xhc3MgJ3swfScgaXMgbm90IGRlZmluZWQgb3IgaXMgbm90IGFjY2Vzc2libGUuIiwgaW50ZXJmOjpWYWx1ZSkpCgkJCQllbHNlaWYgIWludGVyZnR5cDo6Z2V0X0lzSW50ZXJmYWNlKCkgdGhlbgoJCQkJCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsIHN0cmluZzo6Rm9ybWF0KCJDbGFzcyAnezB9JyBpcyBub3QgYW4gaW50ZXJmYWNlLiIsIGludGVyZnR5cDo6VG9TdHJpbmcoKSkpCgkJCQllbmQgaWYKCQkJCUFzbUZhY3Rvcnk6OkN1cm5UeXBCOjpBZGRJbnRlcmZhY2VJbXBsZW1lbnRhdGlvbihpbnRlcmZ0eXApCgoJCQkJdGk6OkFkZEludGVyZmFjZShpbnRlcmZ0eXApCgkJCQlmb3JlYWNoIGludGVyZmEgaW4gSGVscGVyczo6R2V0VHlwZUludGVyZmFjZXMoaW50ZXJmdHlwKQoJCQkJCXRpOjpBZGRJbnRlcmZhY2UoaW50ZXJmYSkKCQkJCWVuZCBmb3IKCQkJZW5kIGZvcgoJCQl0aTo6Tm9ybWFsaXplSW50ZXJmYWNlcygpCgkJZW5kIGlmCgoJCUlMRW1pdHRlcjo6QU5JRmxnID0gZmFsc2UKCgllbmQgbWV0aG9kCgkKCW1ldGhvZCBwdWJsaWMgdm9pZCBSZWFkRW51bSh2YXIgY2xzcyBhcyBFbnVtU3RtdCkKCQkvL2lmIEFzbUZhY3Rvcnk6OmluQ2xhc3MgdGhlbgoJCS8vCUFzbUZhY3Rvcnk6OmlzTmVzdGVkID0gdHJ1ZQoJCS8vZW5kIGlmCgkJQXNtRmFjdG9yeTo6aW5FbnVtID0gdHJ1ZQoJCQoJCXZhciBlbnVtdHlwID0gSGVscGVyczo6Q29tbWl0RXZhbFRUb2soY2xzczo6RW51bVR5cCkKCQlpZiBlbnVtdHlwID09IG51bGwgdGhlbgoJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCBzdHJpbmc6OkZvcm1hdCgiQ2xhc3MgJ3swfScgaXMgbm90IGRlZmluZWQgb3IgaXMgbm90IGFjY2Vzc2libGUuIiwgY2xzczo6RW51bVR5cDo6VmFsdWUpKQoJCWVuZCBpZgoKCQl2YXIgYXNtYiBhcyBBc3NlbWJseUJ1aWxkZXIgPSBBc21GYWN0b3J5OjpBc21CCgkJdmFyIGNsc3NwYXJhbXMgYXMgVHlwZUF0dHJpYnV0ZXMgPSBIZWxwZXJzOjpQcm9jZXNzQ2xhc3NBdHRyc0UoY2xzczo6QXR0cnMpIG9yIFR5cGVBdHRyaWJ1dGVzOjpTZWFsZWQJCQoJCXZhciBtZGxiID0gQXNtRmFjdG9yeTo6TWRsQgoJCXZhciB0eXBuYW1lID0gQXNtRmFjdG9yeTo6Q3Vybk5TICsgIi4iICsgY2xzczo6RW51bU5hbWU6OlZhbHVlCgoJCWlmIElMRW1pdHRlcjo6QU5JRmxnIHRoZW4KCQkJdmFyIGFzbW4gPSBuZXcgQXNzZW1ibHlOYW1lKHR5cG5hbWUpIHtzZXRfVmVyc2lvbihuZXcgVmVyc2lvbigwLDAsMCwwKSl9CgkJCWFzbWIgPSBJTEVtaXR0ZXI6OlVuaXY6OkRlZmluZUR5bmFtaWNBc3NlbWJseShhc21uLCBBc3NlbWJseUJ1aWxkZXJBY2Nlc3M6OlNhdmUpCgkJCW1kbGIgPSBhc21iOjpEZWZpbmVEeW5hbWljTW9kdWxlKHR5cG5hbWUgKyAiLmRsbCIsIHR5cG5hbWUgKyAiLmRsbCIsIGZhbHNlKQoJCWVuZCBpZgoKCQkvL2lmICFBc21GYWN0b3J5Ojppc05lc3RlZCB0aGVuCgkJCUFzbUZhY3Rvcnk6OkN1cm5UeXBOYW1lID0gY2xzczo6RW51bU5hbWU6OlZhbHVlCgkJCUFzbUZhY3Rvcnk6OkN1cm5FbnVtQiA9IG1kbGI6OkRlZmluZUVudW0odHlwbmFtZSwgY2xzc3BhcmFtcywgZW51bXR5cCkKCQkJU3RyZWFtVXRpbHM6OldyaXRlTGluZShzdHJpbmc6OkZvcm1hdCgiQWRkaW5nIEVudW06IHswfS57MX0iICwgQXNtRmFjdG9yeTo6Q3Vybk5TLCBjbHNzOjpFbnVtTmFtZTo6VmFsdWUpKQoJCS8vZWxzZQoJCS8vCUFzbUZhY3Rvcnk6OkN1cm5UeXBCMiA9IEFzbUZhY3Rvcnk6OkN1cm5UeXBCCgkJLy8JU3RyZWFtVXRpbHM6OldyaXRlTGluZShzdHJpbmc6OkZvcm1hdCgiQWRkaW5nIE5lc3RlZCBFbnVtOiB7MH0iLCBjbHNzOjpFbnVtTmFtZTo6VmFsdWUpKQoJCS8vCUFzbUZhY3Rvcnk6OkN1cm5UeXBOYW1lID0gY2xzczo6RW51bU5hbWU6OlZhbHVlCgkJLy8JQXNtRmFjdG9yeTo6Q3VybkVudW1CID0gQXNtRmFjdG9yeTo6Q3VyblR5cEIyOjpEZWZpbmVFbnVtKGNsc3M6OkVudW1OYW1lOjpWYWx1ZSwgY2xzc3BhcmFtcywgZW51bXR5cCkKCQkvL2VuZCBpZgoJCQoJCUhlbHBlcnM6OkFwcGx5RW51bUF0dHJzKCkKCgkJdmFyIHRpIGFzIFR5cGVJdGVtID0gbmV3IFR5cGVJdGVtKEFzbUZhY3Rvcnk6OkN1cm5OUyArICIuIiArIGNsc3M6OkVudW1OYW1lOjpWYWx1ZSwgQXNtRmFjdG9yeTo6Q3VybkVudW1CKSBfCgkJCXtJbmhUeXAgPSBlbnVtdHlwLCBJc0FOSSA9IElMRW1pdHRlcjo6QU5JRmxnLCBBc21CID0gYXNtYn0KCQkKCQlJTEVtaXR0ZXI6OkFOSUZsZyA9IGZhbHNlCgoJCVN5bVRhYmxlOjpDdXJuVHlwSXRlbSA9IHRpCgkJU3ltVGFibGU6OlR5cGVMc3Q6OkFkZFR5cGUodGkpCgoJZW5kIG1ldGhvZAoJCgltZXRob2QgcHVibGljIHZvaWQgUmVhZERlbGVnYXRlKHZhciBkZWxzIGFzIERlbGVnYXRlU3RtdCkKCQlJTEVtaXR0ZXI6OlN0cnVjdEZsZyA9IGZhbHNlCgkJSUxFbWl0dGVyOjpJbnRlcmZhY2VGbGcgPSBmYWxzZQoJCUlMRW1pdHRlcjo6U3RhdGljQ0ZsZyA9IGZhbHNlCgoJCVN5bVRhYmxlOjpSZXNldFR5cEdlblBhcmFtcygpCgoJCWlmIEFzbUZhY3Rvcnk6OmluQ2xhc3MgdGhlbgoJCQlBc21GYWN0b3J5Ojppc05lc3RlZCA9IHRydWUKCQllbmQgaWYKCQlpZiAhQXNtRmFjdG9yeTo6aXNOZXN0ZWQgdGhlbgoJCQlBc21GYWN0b3J5OjppbkNsYXNzID0gdHJ1ZQoJCWVuZCBpZgoKCQl2YXIgbnJnZW5wYXJhbXMgPSAwCgoJCWlmIGRlbHM6OkRlbGVnYXRlTmFtZSBpcyBHZW5lcmljTWV0aG9kTmFtZVRvayB0aGVuCgkJCXZhciBnbW4gPSAkR2VuZXJpY01ldGhvZE5hbWVUb2skZGVsczo6RGVsZWdhdGVOYW1lCgkJCW5yZ2VucGFyYW1zID0gZ21uOjpQYXJhbXM6OmdldF9Db3VudCgpCgkJZW5kIGlmCgoJCXZhciBkdGEgYXMgVHlwZUF0dHJpYnV0ZXMgPSBIZWxwZXJzOjpQcm9jZXNzQ2xhc3NBdHRycyhkZWxzOjpBdHRycykgb3IgVHlwZUF0dHJpYnV0ZXM6OkFuc2lDbGFzcyBvciBUeXBlQXR0cmlidXRlczo6U2VhbGVkIG9yIFR5cGVBdHRyaWJ1dGVzOjpBdXRvQ2xhc3MKCQl2YXIgZGluaHR5cCBhcyBJS1ZNLlJlZmxlY3Rpb24uVHlwZSA9IExvYWRlcjo6Q2FjaGVkTG9hZENsYXNzKCJTeXN0ZW0uTXVsdGljYXN0RGVsZWdhdGUiKQoJCUFzbUZhY3Rvcnk6OkN1cm5JbmhUeXAgPSBkaW5odHlwCgoJCWlmICFBc21GYWN0b3J5Ojppc05lc3RlZCB0aGVuCgkJCUFzbUZhY3Rvcnk6OkN1cm5UeXBOYW1lID0gZGVsczo6RGVsZWdhdGVOYW1lOjpWYWx1ZQoJCQlBc21GYWN0b3J5OjpDdXJuVHlwQiA9IEFzbUZhY3Rvcnk6Ok1kbEI6OkRlZmluZVR5cGUoQXNtRmFjdG9yeTo6Q3Vybk5TICsgIi4iICsgZGVsczo6RGVsZWdhdGVOYW1lOjpWYWx1ZSArICBfCgkJCQkJI3Rlcm5hcnkge25yZ2VucGFyYW1zID4gMCA/ICJgIiArICRzdHJpbmckbnJnZW5wYXJhbXMsIHN0cmluZzo6RW1wdHl9LCBkdGEsIGRpbmh0eXApCgkJCVN0cmVhbVV0aWxzOjpXcml0ZSgiQWRkaW5nIERlbGVnYXRlOiAiKQoJCQlTdHJlYW1VdGlsczo6V3JpdGVMaW5lKEFzbUZhY3Rvcnk6OkN1cm5OUyArICIuIiArIGRlbHM6OkRlbGVnYXRlTmFtZTo6VmFsdWUpCgkJZWxzZQoJCQlBc21GYWN0b3J5OjpDdXJuVHlwQjIgPSBBc21GYWN0b3J5OjpDdXJuVHlwQgoJCQlBc21GYWN0b3J5OjpDdXJuVHlwTmFtZTIgPSBBc21GYWN0b3J5OjpDdXJuVHlwTmFtZQoJCQlTeW1UYWJsZTo6Q3VyblR5cEl0ZW0yID0gU3ltVGFibGU6OkN1cm5UeXBJdGVtCgoJCQlTdHJlYW1VdGlsczo6V3JpdGUoIkFkZGluZyBOZXN0ZWQgRGVsZWdhdGU6ICIpCgkJCVN0cmVhbVV0aWxzOjpXcml0ZUxpbmUoZGVsczo6RGVsZWdhdGVOYW1lOjpWYWx1ZSkKCQkJQXNtRmFjdG9yeTo6Q3VyblR5cE5hbWUgPSBkZWxzOjpEZWxlZ2F0ZU5hbWU6OlZhbHVlCgkJCUFzbUZhY3Rvcnk6OkN1cm5UeXBCID0gQXNtRmFjdG9yeTo6Q3VyblR5cEIyOjpEZWZpbmVOZXN0ZWRUeXBlKGRlbHM6OkRlbGVnYXRlTmFtZTo6VmFsdWUgKyAgXwoJCQkJCSN0ZXJuYXJ5IHtucmdlbnBhcmFtcyA+IDAgPyAiYCIgKyAkc3RyaW5nJG5yZ2VucGFyYW1zLCBzdHJpbmc6OkVtcHR5fSwgZHRhLCBkaW5odHlwKQoJCWVuZCBpZgoJCQoJCUhlbHBlcnM6OkFwcGx5Q2xzQXR0cnMoKQoKCQlTeW1UYWJsZTo6UmVzZXRWYXIoKQoJCVN5bVRhYmxlOjpSZXNldElmKCkKCQlTeW1UYWJsZTo6UmVzZXRUcnkoKQoJCVN5bVRhYmxlOjpSZXNldExvb3AoKQoJCVN5bVRhYmxlOjpSZXNldExibCgpCgoJCWlmIGRlbHM6OkRlbGVnYXRlTmFtZSBpcyBHZW5lcmljTWV0aG9kTmFtZVRvayB0aGVuCgkJCXZhciBnbW4gPSAkR2VuZXJpY01ldGhvZE5hbWVUb2skZGVsczo6RGVsZWdhdGVOYW1lCgkJCXZhciBwYXJhbWRlZnMgPSBnbW46OlBhcmFtcwoJCQl2YXIgZ2VucGFyYW1zID0gbmV3IHN0cmluZ1twYXJhbWRlZnM6OmdldF9Db3VudCgpXQoJCQl2YXIgaSA9IC0xCgkJCWZvcmVhY2ggcGQgaW4gcGFyYW1kZWZzCgkJCQlpKysKCQkJCWdlbnBhcmFtc1tpXSA9IHBkOjpWYWx1ZQoJCQllbmQgZm9yCgkJCVN5bVRhYmxlOjpTZXRUeXBHZW5QYXJhbXMoZ2VucGFyYW1zLCBBc21GYWN0b3J5OjpDdXJuVHlwQjo6RGVmaW5lR2VuZXJpY1BhcmFtZXRlcnMoZ2VucGFyYW1zKSkKCQkJbnJnZW5wYXJhbXMgPSBwYXJhbWRlZnM6OmdldF9Db3VudCgpCgoJCQlmb3JlYWNoIGsgaW4gZ21uOjpnZXRfQ29uc3RyYWludHMoKTo6Z2V0X0tleXMoKQoJCQkJaWYgIVN5bVRhYmxlOjpUeXBHZW5QYXJhbXM6OkNvbnRhaW5zKGspIHRoZW4KCQkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCBzdHJpbmc6OkZvcm1hdCgiVGhpcyBkZWxlZ2F0ZSBkb2VzIG5vdCBoYXZlIGEgZ2VuZXJpYyB0eXBlIHBhcmFtZXRlciBuYW1lZCB7MH0uIiwgaykpCgkJCQkJY29udGludWUKCQkJCWVuZCBpZgoKCQkJCXZhciB0cGkgPSBTeW1UYWJsZTo6VHlwR2VuUGFyYW1zOjpnZXRfSXRlbShrKQoJCQkJdmFyIGJsZCA9IHRwaTo6QmxkcgoJCQkJdmFyIGdwYSA9IEdlbmVyaWNQYXJhbWV0ZXJBdHRyaWJ1dGVzOjpOb25lCgoJCQkJZm9yZWFjaCBjIGluIGdtbjo6Z2V0X0NvbnN0cmFpbnRzKCk6OmdldF9JdGVtKGspCgkJCQkJaWYgYyBpcyBTdHJ1Y3RUb2sgdGhlbgoJCQkJCQlncGEgPSBncGEgb3IgR2VuZXJpY1BhcmFtZXRlckF0dHJpYnV0ZXM6Ok5vdE51bGxhYmxlVmFsdWVUeXBlQ29uc3RyYWludAoJCQkJCWVsc2VpZiBjIGlzIENsYXNzVG9rIHRoZW4KCQkJCQkJZ3BhID0gZ3BhIG9yIEdlbmVyaWNQYXJhbWV0ZXJBdHRyaWJ1dGVzOjpSZWZlcmVuY2VUeXBlQ29uc3RyYWludAoJCQkJCWVsc2VpZiBjIGlzIE91dFRvayB0aGVuCgkJCQkJCWdwYSA9IGdwYSBvciBHZW5lcmljUGFyYW1ldGVyQXR0cmlidXRlczo6Q292YXJpYW50CgkJCQkJZWxzZWlmIGMgaXMgSW5Ub2sgdGhlbgoJCQkJCQlncGEgPSBncGEgb3IgR2VuZXJpY1BhcmFtZXRlckF0dHJpYnV0ZXM6OkNvbnRyYXZhcmlhbnQKCQkJCQllbHNlaWYgYyBpcyBOZXdUb2sgdGhlbgoJCQkJCQlncGEgPSBncGEgb3IgR2VuZXJpY1BhcmFtZXRlckF0dHJpYnV0ZXM6OkRlZmF1bHRDb25zdHJ1Y3RvckNvbnN0cmFpbnQKCQkJCQkJdHBpOjpIYXNDdG9yID0gdHJ1ZQoJCQkJCWVsc2VpZiBjIGlzIFR5cGVUb2sKCQkJCQkJdmFyIHRvdXQgPSBIZWxwZXJzOjpDb21taXRFdmFsVFRvaygkVHlwZVRvayRjKQoJCQkJCQlpZiB0b3V0ID09IG51bGwgdGhlbgoJCQkJCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgc3RyaW5nOjpGb3JtYXQoIkNsYXNzICd7MH0nIGlzIG5vdCBkZWZpbmVkIG9yIGlzIG5vdCBhY2Nlc3NpYmxlLiIsIGM6OlRvU3RyaW5nKCkpKQoJCQkJCQllbmQgaWYKCQkJCQkJaWYgdG91dDo6Z2V0X0lzSW50ZXJmYWNlKCkgdGhlbgoJCQkJCQkJdHBpOjpJbnRlcmZhY2VzOjpBZGQodG91dCkKCQkJCQkJZWxzZQoJCQkJCQkJYmxkOjpTZXRCYXNlVHlwZUNvbnN0cmFpbnQodG91dCkKCQkJCQkJCXRwaTo6QmFzZVR5cGUgPSB0b3V0CgkJCQkJCWVuZCBpZgoJCQkJCWVuZCBpZgoJCQkJZW5kIGZvcgoKCQkJCWJsZDo6U2V0R2VuZXJpY1BhcmFtZXRlckF0dHJpYnV0ZXMoZ3BhKQoJCQkJYmxkOjpTZXRJbnRlcmZhY2VDb25zdHJhaW50cyh0cGk6OkludGVyZmFjZXM6OlRvQXJyYXkoKSkKCQkJZW5kIGZvcgoJCWVuZCBpZgoKCQl2YXIgZHRpIGFzIFR5cGVJdGVtID0gbmV3IFR5cGVJdGVtKEFzbUZhY3Rvcnk6OkN1cm5OUyArICIuIiArIGRlbHM6OkRlbGVnYXRlTmFtZTo6VmFsdWUsQXNtRmFjdG9yeTo6Q3VyblR5cEIpIF8KCQkJe0luaFR5cCA9IGRpbmh0eXAsIE5yR2VuUGFyYW1zID0gbnJnZW5wYXJhbXMsIFR5cEdlblBhcmFtcyA9IFN5bVRhYmxlOjpUeXBHZW5QYXJhbXN9CgkJU3ltVGFibGU6OkN1cm5UeXBJdGVtID0gZHRpCgoJCXZhciBkdGFyciBhcyBJS1ZNLlJlZmxlY3Rpb24uVHlwZVtdID0gbmV3IElLVk0uUmVmbGVjdGlvbi5UeXBlW10ge0xvYWRlcjo6TG9hZENsYXNzKCJTeXN0ZW0uT2JqZWN0IiksIExvYWRlcjo6TG9hZENsYXNzKCJTeXN0ZW0uSW50UHRyIil9CgkJQXNtRmFjdG9yeTo6Q3VybkNvbkIgPSBBc21GYWN0b3J5OjpDdXJuVHlwQjo6RGVmaW5lQ29uc3RydWN0b3IoTWV0aG9kQXR0cmlidXRlczo6SGlkZUJ5U2lnIG9yIE1ldGhvZEF0dHJpYnV0ZXM6OlB1YmxpYyBfCgkJCSwgQ2FsbGluZ0NvbnZlbnRpb25zOjpTdGFuZGFyZCwgZHRhcnIpCgkJQXNtRmFjdG9yeTo6SW5pdERlbENvbnN0cigpCgoJCVN5bVRhYmxlOjpDdXJuVHlwSXRlbTo6QWRkQ3RvcihuZXcgQ3Rvckl0ZW0oZHRhcnIsQXNtRmFjdG9yeTo6Q3VybkNvbkIpKQoKCQl2YXIgZGVtYSBhcyBNZXRob2RBdHRyaWJ1dGVzID0gTWV0aG9kQXR0cmlidXRlczo6SGlkZUJ5U2lnIG9yIE1ldGhvZEF0dHJpYnV0ZXM6OlB1YmxpYyBvciBNZXRob2RBdHRyaWJ1dGVzOjpOZXdTbG90IG9yIE1ldGhvZEF0dHJpYnV0ZXM6OlZpcnR1YWwKCQlkdGFyciA9ICN0ZXJuYXJ5IHtkZWxzOjpQYXJhbXM6OmdldF9Db3VudCgpID09IDAgPyBJS1ZNLlJlZmxlY3Rpb24uVHlwZTo6RW1wdHlUeXBlcywgSGVscGVyczo6UHJvY2Vzc1BhcmFtcyhkZWxzOjpQYXJhbXMpfQoJCQoJCXZhciBkcmV0dHlwIGFzIElLVk0uUmVmbGVjdGlvbi5UeXBlID0gSGVscGVyczo6Q29tbWl0RXZhbFRUb2soZGVsczo6UmV0VHlwKQoJCQoJCWlmIGRyZXR0eXAgPT0gbnVsbCB0aGVuCgkJCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsICJDbGFzcyAnIiArIGRlbHM6OlJldFR5cDo6VmFsdWUgKyAiJyBpcyBub3QgZGVmaW5lZCBvciBpcyBub3QgYWNjZXNzaWJsZS4iKQoJCWVuZCBpZgoKCQlBc21GYWN0b3J5OjpDdXJuTWV0QiA9IEFzbUZhY3Rvcnk6OkN1cm5UeXBCOjpEZWZpbmVNZXRob2QoIkludm9rZSIsIGRlbWEsIGRyZXR0eXAsIGR0YXJyKQoJCUFzbUZhY3Rvcnk6OkluaXREZWxNZXQoKQoJCUhlbHBlcnM6OlBvc3RQcm9jZXNzUGFyYW1zKGRlbHM6OlBhcmFtcykKCgkJU3ltVGFibGU6OkN1cm5UeXBJdGVtOjpBZGRNZXRob2QobmV3IE1ldGhvZEl0ZW0oIkludm9rZSIsZHJldHR5cCxkdGFycixBc21GYWN0b3J5OjpDdXJuTWV0QikpCgoJCXZhciBkdGFycjIgYXMgSUtWTS5SZWZsZWN0aW9uLlR5cGVbXSA9IG5ldyBJS1ZNLlJlZmxlY3Rpb24uVHlwZVtkdGFycltsXSArIDJdCgkJQXJyYXk6OkNvcHkoZHRhcnIsZHRhcnIyLCRsb25nJGR0YXJyW2xdKQoJCWR0YXJyMltkdGFycjJbbF0gLSAyXSA9IExvYWRlcjo6Q2FjaGVkTG9hZENsYXNzKCJTeXN0ZW0uQXN5bmNDYWxsYmFjayIpCgkJZHRhcnIyWy0tZHRhcnIyW2xdXSA9IExvYWRlcjo6Q2FjaGVkTG9hZENsYXNzKCJTeXN0ZW0uT2JqZWN0IikKCgkJQXNtRmFjdG9yeTo6Q3Vybk1ldEIgPSBBc21GYWN0b3J5OjpDdXJuVHlwQjo6RGVmaW5lTWV0aG9kKCJCZWdpbkludm9rZSIsIGRlbWEsIExvYWRlcjo6TG9hZENsYXNzKCJTeXN0ZW0uSUFzeW5jUmVzdWx0IiksIGR0YXJyMikKCQlBc21GYWN0b3J5OjpJbml0RGVsTWV0KCkKCgkJU3ltVGFibGU6OkN1cm5UeXBJdGVtOjpBZGRNZXRob2QobmV3IE1ldGhvZEl0ZW0oIkJlZ2luSW52b2tlIixMb2FkZXI6OkxvYWRDbGFzcygiU3lzdGVtLklBc3luY1Jlc3VsdCIpLGR0YXJyMixBc21GYWN0b3J5OjpDdXJuTWV0QikpCgoJCXZhciBpdGVyIGFzIGludGVnZXIgPSAtMQoJCXZhciBsaXMgYXMgSUxpc3Q8b2YgSUtWTS5SZWZsZWN0aW9uLlR5cGU+ID0gbmV3IExpc3Q8b2YgSUtWTS5SZWZsZWN0aW9uLlR5cGU+KCkKCQlkbyB1bnRpbCBpdGVyID0gLS1kdGFycltsXQoJCQlpdGVyID0gKytpdGVyCgkJCWlmIGR0YXJyW2l0ZXJdOjpnZXRfSXNCeVJlZigpIHRoZW4KCQkJCWxpczo6QWRkKGR0YXJyW2l0ZXJdKQoJCQllbmQgaWYKCQllbmQgZG8KCQlkdGFyciA9IEVudW1lcmFibGU6OlRvQXJyYXk8b2YgSUtWTS5SZWZsZWN0aW9uLlR5cGU+KGxpcykKCgkJdmFyIGR0YXJyMyBhcyBJS1ZNLlJlZmxlY3Rpb24uVHlwZVtdID0gbmV3IElLVk0uUmVmbGVjdGlvbi5UeXBlWysrZHRhcnJbbF1dCgkJQXJyYXk6OkNvcHkoZHRhcnIsZHRhcnIzLCRsb25nJGR0YXJyW2xdKQoJCWR0YXJyM1stLWR0YXJyM1tsXV0gPSBMb2FkZXI6OkNhY2hlZExvYWRDbGFzcygiU3lzdGVtLklBc3luY1Jlc3VsdCIpCgoJCUFzbUZhY3Rvcnk6OkN1cm5NZXRCID0gQXNtRmFjdG9yeTo6Q3VyblR5cEI6OkRlZmluZU1ldGhvZCgiRW5kSW52b2tlIiwgZGVtYSwgZHJldHR5cCwgZHRhcnIzKQoJCUFzbUZhY3Rvcnk6OkluaXREZWxNZXQoKQoKCQlTeW1UYWJsZTo6Q3VyblR5cEl0ZW06OkFkZE1ldGhvZChuZXcgTWV0aG9kSXRlbSgiRW5kSW52b2tlIixkcmV0dHlwLGR0YXJyMyxBc21GYWN0b3J5OjpDdXJuTWV0QikpCgoJCVN5bVRhYmxlOjpUeXBlTHN0OjpBZGRUeXBlKGR0aSkKCgkJQXNtRmFjdG9yeTo6Q3JlYXRlVHlwKCkKCQlpZiBBc21GYWN0b3J5Ojppc05lc3RlZCB0aGVuCgkJCUFzbUZhY3Rvcnk6OkN1cm5UeXBCID0gQXNtRmFjdG9yeTo6Q3VyblR5cEIyCgkJCUFzbUZhY3Rvcnk6OkN1cm5UeXBOYW1lID0gQXNtRmFjdG9yeTo6Q3VyblR5cE5hbWUyCgkJCVN5bVRhYmxlOjpDdXJuVHlwSXRlbSA9IFN5bVRhYmxlOjpDdXJuVHlwSXRlbTIKCQkJQXNtRmFjdG9yeTo6aXNOZXN0ZWQgPSBmYWxzZQoJCWVsc2UKCQkJQXNtRmFjdG9yeTo6aW5DbGFzcyA9IGZhbHNlCgkJZW5kIGlmCgllbmQgbWV0aG9kCgkKCW1ldGhvZCBwdWJsaWMgdm9pZCBSZWFkTWV0aG9kKHZhciBtdHNzIGFzIE1ldGhvZFN0bXQpCgkJSUxFbWl0dGVyOjpTdGF0aWNGbGcgPSBmYWxzZQoJCUlMRW1pdHRlcjo6QWJzdHJhY3RGbGcgPSBmYWxzZQoJCUlMRW1pdHRlcjo6UHJvdG9GbGcgPSBmYWxzZQoJCUlMRW1pdHRlcjo6UEludm9rZUZsZyA9IGZhbHNlCgoJCVN5bVRhYmxlOjpSZXNldFZhcigpCgkJU3ltVGFibGU6OlJlc2V0SWYoKQoJCVN5bVRhYmxlOjpSZXNldExibCgpCgkJU3ltVGFibGU6OlJlc2V0VHJ5KCkKCQlTeW1UYWJsZTo6UmVzZXRMb29wKCkKCgkJU3ltVGFibGU6OlJlc2V0TWV0R2VuUGFyYW1zKCkKCgkJdmFyIG10c3NuYW1zdHIgYXMgc3RyaW5nID0gbXRzczo6TWV0aG9kTmFtZTo6VmFsdWUKCQl2YXIgdHlwIGFzIElLVk0uUmVmbGVjdGlvbi5UeXBlID0gbnVsbAoJCQoJCXZhciBtdHNzbmFtYXJyIGFzIEM1LklMaXN0PG9mIHN0cmluZz4KCQl2YXIgb3ZlcmxkbmFtIGFzIHN0cmluZyA9IFN0cmluZzo6RW1wdHkKCQl2YXIgb3ZlcmxkbXRkIGFzIE1ldGhvZEluZm8gPSBudWxsCgkJdmFyIG1pcHQgYXMgTWV0aG9kSXRlbSA9IG51bGwKCQl2YXIgZnJvbXByb3RvIGFzIGJvb2xlYW4gPSBmYWxzZQoKCQlpZiAobXRzc25hbXN0ciA9PSBBc21GYWN0b3J5OjpDdXJuVHlwTmFtZSkgb3IgKG10c3NuYW1zdHIgbGlrZSAiXmN0b3JcZCokIikgdGhlbgoJCQlTdHJlYW1VdGlsczo6V3JpdGVMaW5lKCIJQWRkaW5nIENvbnN0cnVjdG9yOiAiICsgbXRzc25hbXN0cikKCQkJdmFyIHBhcmFtc3R5cHMgYXMgSUtWTS5SZWZsZWN0aW9uLlR5cGVbXSA9ICN0ZXJuYXJ5IHttdHNzOjpQYXJhbXM6OmdldF9Db3VudCgpID09IDAgPyBJS1ZNLlJlZmxlY3Rpb24uVHlwZTo6RW1wdHlUeXBlcyAsIEhlbHBlcnM6OlByb2Nlc3NQYXJhbXMobXRzczo6UGFyYW1zKX0JCQkKCQkJQXNtRmFjdG9yeTo6Q3VybkNvbkIgPSBBc21GYWN0b3J5OjpDdXJuVHlwQjo6RGVmaW5lQ29uc3RydWN0b3IoSGVscGVyczo6UHJvY2Vzc01ldGhvZEF0dHJzKG10c3M6OkF0dHJzKSwgQ2FsbGluZ0NvbnZlbnRpb25zOjpTdGFuZGFyZCwgcGFyYW1zdHlwcykKCQkJQXNtRmFjdG9yeTo6SW5pdENvbnN0cigpCgkJCQoJCQlpZiBJTEVtaXR0ZXI6OkludGVyZmFjZUZsZyB0aGVuCgkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiSW50ZXJmYWNlcyBzaG91bGQgbm90IGhhdmUgQ29uc3RydWN0b3JzISIpCgkJCWVsc2VpZiBBc21GYWN0b3J5OjpDdXJuQ29uQjo6Z2V0X0lzUHVibGljKCkgYW5kIElMRW1pdHRlcjo6QWJzdHJhY3RDRmxnIHRoZW4KCQkJCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsICJBYnN0cmFjdCBDbGFzc2VzIHNob3VsZCBub3QgaGF2ZSBQdWJsaWNseSBWaXNpYmxlIENvbnN0cnVjdG9ycyEiKQoJCQllbHNlaWYgIUlMRW1pdHRlcjo6U3RhdGljRmxnIGFuZCBJTEVtaXR0ZXI6OlN0YXRpY0NGbGcgdGhlbgoJCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgIlN0YXRpYyBDbGFzc2VzIHNob3VsZCBub3QgaGF2ZSBJbnN0YW5jZSBDb25zdHJ1Y3RvcnMgYnV0IG9ubHkgVHlwZSBJbml0aWFsaXplcnMhIikKCQkJZWxzZWlmIElMRW1pdHRlcjo6U3RhdGljRmxnIGFuZCAocGFyYW1zdHlwc1tsXSAhPSAwKSB0aGVuCgkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiVHlwZSBJbml0aWFsaXplcnMgc2hvdWxkIE5PVCBoYXZlIGFueSBQYXJhbWV0ZXJzISIpCgkJCWVuZCBpZgoJCQkKLy8JCQlpZiBBc21GYWN0b3J5Ojppc05lc3RlZCB0aGVuCi8vCQkJCVN5bVRhYmxlOjpBZGROZXN0ZWRDdG9yKHBhcmFtc3R5cHMsIEFzbUZhY3Rvcnk6OkN1cm5Db25CKQovLwkJCWVsc2UKCQkJCVN5bVRhYmxlOjpBZGRDdG9yKHBhcmFtc3R5cHMsIEFzbUZhY3Rvcnk6OkN1cm5Db25CKQovLwkJCWVuZCBpZgoJCQlpZiBtdHNzOjpQYXJhbXM6OmdldF9Db3VudCgpICE9IDAgdGhlbgoJCQkJSGVscGVyczo6UG9zdFByb2Nlc3NQYXJhbXNDb25zdHIobXRzczo6UGFyYW1zKQoJCQllbmQgaWYKCQkJQXNtRmFjdG9yeTo6SW5DdG9yRmxnID0gdHJ1ZQoJCWVsc2UKCQkJbXRzc25hbWFyciA9IFBhcnNlVXRpbHM6OlN0cmluZ1BhcnNlckwobXRzc25hbXN0ciwgJy4nKQoJCQlpZiBtdHNzbmFtYXJyOjpnZXRfQ291bnQoKSA+IDEgdGhlbgoJCQkJb3ZlcmxkbmFtID0gbXRzc25hbWFycjo6Z2V0X0xhc3QoKQoJCQkJdHlwID0gSGVscGVyczo6Q29tbWl0RXZhbFRUb2sobmV3IFR5cGVUb2soc3RyaW5nOjpKb2luKCIuIiwgbXRzc25hbWFycjo6VmlldygwLC0tbXRzc25hbWFycjo6Z2V0X0NvdW50KCkpOjpUb0FycmF5KCkpKSkKCQkJCW10c3NuYW1zdHIgPSBzdHJpbmc6OkZvcm1hdCgiezB9LnsxfSIsIHR5cDo6VG9TdHJpbmcoKSwgb3ZlcmxkbmFtKQoJCQllbmQgaWYKCQkJCgkJCXZhciBwYXJhbXN0eXBzIGFzIElLVk0uUmVmbGVjdGlvbi5UeXBlW10KCQkJdmFyIHJldHR5cCBhcyBJS1ZNLlJlZmxlY3Rpb24uVHlwZSA9IG51bGwKCQkJdmFyIG5yZ2VucGFyYW1zID0gMAoJCQkKCQkJaWYgbXRzczo6TWV0aG9kTmFtZSBpc25vdCBHZW5lcmljTWV0aG9kTmFtZVRvayB0aGVuCgkJCQlwYXJhbXN0eXBzID0gI3Rlcm5hcnkge210c3M6OlBhcmFtczo6Z2V0X0NvdW50KCkgPT0gMCA/IElLVk0uUmVmbGVjdGlvbi5UeXBlOjpFbXB0eVR5cGVzICwgSGVscGVyczo6UHJvY2Vzc1BhcmFtcyhtdHNzOjpQYXJhbXMpfQoJCQkJbWlwdCA9IFN5bVRhYmxlOjpGaW5kUHJvdG9NZXQobXRzc25hbXN0ciwgcGFyYW1zdHlwcykKCQkJZW5kIGlmCgkJCQoJCQlmcm9tcHJvdG8gPSBtaXB0ICE9IG51bGwKCQkJCgkJCWlmIGZyb21wcm90byB0aGVuCgkJCQlTdHJlYW1VdGlsczo6V3JpdGVMaW5lKCIJQ29udGludWluZyBNZXRob2Q6ICIgKyBtdHNzbmFtc3RyKQoJCQkJQXNtRmFjdG9yeTo6Q3Vybk1ldEIgPSBtaXB0OjpNZXRob2RCbGRyCgkJCQlJTEVtaXR0ZXI6OlN0YXRpY0ZsZyA9IEFzbUZhY3Rvcnk6OkN1cm5NZXRCOjpnZXRfSXNTdGF0aWMoKQoJCQkJSUxFbWl0dGVyOjpBYnN0cmFjdEZsZyA9IEFzbUZhY3Rvcnk6OkN1cm5NZXRCOjpnZXRfSXNBYnN0cmFjdCgpCgkJCWVsc2UKCQkJCVN0cmVhbVV0aWxzOjpXcml0ZUxpbmUoIglBZGRpbmcgTWV0aG9kOiAiICsgbXRzc25hbXN0cikKCgkJCQlpZiBJTEVtaXR0ZXI6OkludGVyZmFjZUZsZyB0aGVuCgkJCQkJbXRzczo6QWRkQXR0cihuZXcgT3ZlcnJpZGVBdHRyKCkpCgkJCQkJbXRzczo6QWRkQXR0cihuZXcgQWJzdHJhY3RBdHRyKCkpCgkJCQkJbXRzczo6QWRkQXR0cihuZXcgTmV3U2xvdEF0dHIoKSkKCQkJCWVuZCBpZgoKCQkJCXZhciBtYSA9IEhlbHBlcnM6OlByb2Nlc3NNZXRob2RBdHRycyhtdHNzOjpBdHRycykKCQkJCXZhciBwaW5mbyA9IFN5bVRhYmxlOjpQSUluZm8KCQkJCQoJCQkJaWYgSUxFbWl0dGVyOjpQSW52b2tlRmxnIHRoZW4KCQkJCQkKCQkJCQlwYXJhbXN0eXBzID0gI3Rlcm5hcnkge210c3M6OlBhcmFtczo6Z2V0X0NvdW50KCkgPT0gMCA/IElLVk0uUmVmbGVjdGlvbi5UeXBlOjpFbXB0eVR5cGVzICwgSGVscGVyczo6UHJvY2Vzc1BhcmFtcyhtdHNzOjpQYXJhbXMpfQoJCQkJCXJldHR5cCA9IEhlbHBlcnM6OkNvbW1pdEV2YWxUVG9rKG10c3M6OlJldFR5cCkKCQkJCQlpZiByZXR0eXAgPSBudWxsIHRoZW4KCQkJCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgc3RyaW5nOjpGb3JtYXQoIkNsYXNzICd7MH0nIGlzIG5vdCBkZWZpbmVkIG9yIGlzIG5vdCBhY2Nlc3NpYmxlLiIsIG10c3M6OlJldFR5cDo6VmFsdWUpKQoJCQkJCWVuZCBpZgoKCQkJCQlBc21GYWN0b3J5OjpDdXJuTWV0QiA9IEFzbUZhY3Rvcnk6OkN1cm5UeXBCOjpEZWZpbmVQSW52b2tlTWV0aG9kKG10c3NuYW1zdHIsIHBpbmZvOjpMaWJOYW1lLCBtYSwgQ2FsbGluZ0NvbnZlbnRpb25zOjpTdGFuZGFyZCwgcmV0dHlwLCBwYXJhbXN0eXBzLCBwaW5mbzo6Q2FsbENvbnYsIHBpbmZvOjpDU2V0KQoJCQkJZWxzZQoJCQkJCUFzbUZhY3Rvcnk6OkN1cm5NZXRCID0gQXNtRmFjdG9yeTo6Q3VyblR5cEI6OkRlZmluZU1ldGhvZChtdHNzbmFtc3RyLCBtYSwgTG9hZGVyOjpMb2FkQ2xhc3MoIlN5c3RlbS5Wb2lkIiksIElLVk0uUmVmbGVjdGlvbi5UeXBlOjpFbXB0eVR5cGVzKQoJCQkJCQoJCQkJCWlmIG10c3M6Ok1ldGhvZE5hbWUgaXMgR2VuZXJpY01ldGhvZE5hbWVUb2sgdGhlbgoJCQkJCQl2YXIgZ21uID0gJEdlbmVyaWNNZXRob2ROYW1lVG9rJG10c3M6Ok1ldGhvZE5hbWUKCQkJCQkJdmFyIHBhcmFtZGVmcyA9IGdtbjo6UGFyYW1zCgkJCQkJCXZhciBnZW5wYXJhbXMgPSBuZXcgc3RyaW5nW3BhcmFtZGVmczo6Z2V0X0NvdW50KCldCgkJCQkJCXZhciBpID0gLTEKCQkJCQkJZm9yZWFjaCBwZCBpbiBwYXJhbWRlZnMKCQkJCQkJCWkrKwoJCQkJCQkJZ2VucGFyYW1zW2ldID0gcGQ6OlZhbHVlCgkJCQkJCWVuZCBmb3IKCQkJCQkJU3ltVGFibGU6OlNldE1ldEdlblBhcmFtcyhnZW5wYXJhbXMsIEFzbUZhY3Rvcnk6OkN1cm5NZXRCOjpEZWZpbmVHZW5lcmljUGFyYW1ldGVycyhnZW5wYXJhbXMpKQoJCQkJCQlucmdlbnBhcmFtcyA9IHBhcmFtZGVmczo6Z2V0X0NvdW50KCkKCgkJCQkJCWZvcmVhY2ggayBpbiBnbW46OmdldF9Db25zdHJhaW50cygpOjpnZXRfS2V5cygpCgkJCQkJCQlpZiAhU3ltVGFibGU6Ok1ldEdlblBhcmFtczo6Q29udGFpbnMoaykgdGhlbgoJCQkJCQkJCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsIHN0cmluZzo6Rm9ybWF0KCJUaGlzIG1ldGhvZCBkb2VzIG5vdCBoYXZlIGEgZ2VuZXJpYyB0eXBlIHBhcmFtZXRlciBuYW1lZCB7MH0uIiwgaykpCgkJCQkJCQkJY29udGludWUKCQkJCQkJCWVuZCBpZgoKCQkJCQkJCXZhciB0cGkgPSBTeW1UYWJsZTo6TWV0R2VuUGFyYW1zOjpnZXRfSXRlbShrKQoJCQkJCQkJdmFyIGJsZCA9IHRwaTo6QmxkcgoJCQkJCQkJdmFyIGdwYSA9IEdlbmVyaWNQYXJhbWV0ZXJBdHRyaWJ1dGVzOjpOb25lCgoJCQkJCQkJZm9yZWFjaCBjIGluIGdtbjo6Z2V0X0NvbnN0cmFpbnRzKCk6OmdldF9JdGVtKGspCgkJCQkJCQkJaWYgYyBpcyBTdHJ1Y3RUb2sgdGhlbgoJCQkJCQkJCQlncGEgPSBncGEgb3IgR2VuZXJpY1BhcmFtZXRlckF0dHJpYnV0ZXM6Ok5vdE51bGxhYmxlVmFsdWVUeXBlQ29uc3RyYWludAoJCQkJCQkJCWVsc2VpZiBjIGlzIENsYXNzVG9rIHRoZW4KCQkJCQkJCQkJZ3BhID0gZ3BhIG9yIEdlbmVyaWNQYXJhbWV0ZXJBdHRyaWJ1dGVzOjpSZWZlcmVuY2VUeXBlQ29uc3RyYWludAoJCQkJCQkJCWVsc2VpZiBjIGlzIE91dFRvayB0aGVuCgkJCQkJCQkJCVN0cmVhbVV0aWxzOjpXcml0ZVdhcm4oSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgIkNvdmFyaWFuY2Ugc2hvdWxkIG5vdCBiZSB1c2VkIGluIGdlbmVyaWMgbWV0aG9kcyIpCgkJCQkJCQkJZWxzZWlmIGMgaXMgSW5Ub2sgdGhlbgoJCQkJCQkJCQlTdHJlYW1VdGlsczo6V3JpdGVXYXJuKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsICJDb250cmF2YXJpYW5jZSBzaG91bGQgbm90IGJlIHVzZWQgaW4gZ2VuZXJpYyBtZXRob2RzIikKCQkJCQkJCQllbHNlaWYgYyBpcyBOZXdUb2sgdGhlbgoJCQkJCQkJCQlncGEgPSBncGEgb3IgR2VuZXJpY1BhcmFtZXRlckF0dHJpYnV0ZXM6OkRlZmF1bHRDb25zdHJ1Y3RvckNvbnN0cmFpbnQKCQkJCQkJCQkJdHBpOjpIYXNDdG9yID0gdHJ1ZQoJCQkJCQkJCWVsc2VpZiBjIGlzIFR5cGVUb2sKCQkJCQkJCQkJdmFyIHRvdXQgPSBIZWxwZXJzOjpDb21taXRFdmFsVFRvaygkVHlwZVRvayRjKQoJCQkJCQkJCQlpZiB0b3V0ID09IG51bGwgdGhlbgoJCQkJCQkJCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgc3RyaW5nOjpGb3JtYXQoIkNsYXNzICd7MH0nIGlzIG5vdCBkZWZpbmVkIG9yIGlzIG5vdCBhY2Nlc3NpYmxlLiIsIGM6OlRvU3RyaW5nKCkpKQoJCQkJCQkJCQllbmQgaWYKCQkJCQkJCQkJaWYgdG91dDo6Z2V0X0lzSW50ZXJmYWNlKCkgdGhlbgoJCQkJCQkJCQkJdHBpOjpJbnRlcmZhY2VzOjpBZGQodG91dCkKCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJYmxkOjpTZXRCYXNlVHlwZUNvbnN0cmFpbnQodG91dCkKCQkJCQkJCQkJCXRwaTo6QmFzZVR5cGUgPSB0b3V0CgkJCQkJCQkJCWVuZCBpZgoJCQkJCQkJCWVuZCBpZgoJCQkJCQkJZW5kIGZvcgoKCQkJCQkJCWJsZDo6U2V0R2VuZXJpY1BhcmFtZXRlckF0dHJpYnV0ZXMoZ3BhKQoJCQkJCQkJYmxkOjpTZXRJbnRlcmZhY2VDb25zdHJhaW50cyh0cGk6OkludGVyZmFjZXM6OlRvQXJyYXkoKSkKCQkJCQkJZW5kIGZvcgoKCQkJCQllbmQgaWYKCQkJCQkKCQkJCQlwYXJhbXN0eXBzID0gI3Rlcm5hcnkge210c3M6OlBhcmFtczo6Z2V0X0NvdW50KCkgPT0gMCA/IElLVk0uUmVmbGVjdGlvbi5UeXBlOjpFbXB0eVR5cGVzICwgSGVscGVyczo6UHJvY2Vzc1BhcmFtcyhtdHNzOjpQYXJhbXMpfQoJCQkJCXJldHR5cCA9IEhlbHBlcnM6OkNvbW1pdEV2YWxUVG9rKG10c3M6OlJldFR5cCkKCQkJCQlpZiByZXR0eXAgPT0gbnVsbCB0aGVuCgkJCQkJCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsIHN0cmluZzo6Rm9ybWF0KCJDbGFzcyAnezB9JyBpcyBub3QgZGVmaW5lZCBvciBpcyBub3QgYWNjZXNzaWJsZS4iLCBtdHNzOjpSZXRUeXA6OlZhbHVlKSkKCQkJCQllbmQgaWYKCQkJCQlBc21GYWN0b3J5OjpDdXJuTWV0Qjo6U2V0UmV0dXJuVHlwZShyZXR0eXApCgkJCQkJQXNtRmFjdG9yeTo6Q3Vybk1ldEI6OlNldFBhcmFtZXRlcnMocGFyYW1zdHlwcykKCQkJCWVuZCBpZgoJCQllbmQgaWYKCQkJCgkJCS8vaWYgSUxFbWl0dGVyOjpJbnRlcmZhY2VGbGcgYW5kICFJTEVtaXR0ZXI6OkFic3RyYWN0RmxnIHRoZW4KCQkJLy8JU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgIk1ldGhvZHMgaW4gSW50ZXJmYWNlcyBzaG91bGQgYWxsIGJlIEFic3RyYWN0ISIpCgkJCWlmIElMRW1pdHRlcjo6SW50ZXJmYWNlRmxnIGFuZCBJTEVtaXR0ZXI6OlN0YXRpY0ZsZyB0aGVuCgkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiTWV0aG9kcyBpbiBJbnRlcmZhY2VzIHNob3VsZCBub3QgYmUgU3RhdGljISIpCgkJCWVsc2VpZiAhSUxFbWl0dGVyOjpTdGF0aWNGbGcgYW5kIElMRW1pdHRlcjo6U3RhdGljQ0ZsZyB0aGVuCgkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiU3RhdGljIENsYXNzZXMgc2hvdWxkIG5vdCBoYXZlIEluc3RhbmNlIE1ldGhvZHMhIikKCQkJZW5kIGlmCgkJCQoJCQlpZiAhSUxFbWl0dGVyOjpQcm90b0ZsZyB0aGVuCgkJCQl2YXIgcGJydiBhcyBQYXJhbWV0ZXJCdWlsZGVyID0gQXNtRmFjdG9yeTo6Q3Vybk1ldEI6OkRlZmluZVBhcmFtZXRlcigwLCBJS1ZNLlJlZmxlY3Rpb24uUGFyYW1ldGVyQXR0cmlidXRlczo6UmV0dmFsLCAkc3RyaW5nJG51bGwpCgkJCQlpZiBFbnVtZXJhYmxlOjpDb250YWluczxvZiBpbnRlZ2VyPihTeW1UYWJsZTo6UGFyYW1ldGVyQ0FMc3Q6OmdldF9LZXlzKCksIDApIHRoZW4KCQkJCQlmb3JlYWNoIGNhIGluIFN5bVRhYmxlOjpQYXJhbWV0ZXJDQUxzdDo6Z2V0X0l0ZW0oMCkKCQkJCQkJcGJydjo6U2V0Q3VzdG9tQXR0cmlidXRlKGNhKQoJCQkJCWVuZCBmb3IKCQkJCWVuZCBpZgoJCQkJCgkJCQlpZiBJTEVtaXR0ZXI6OlBJbnZva2VGbGcgdGhlbgoJCQkJCUFzbUZhY3Rvcnk6OkluaXRQSW52b2tlTXRkKCkKCQkJCWVsc2UKCQkJCQlBc21GYWN0b3J5OjpJbml0TXRkKCkKCQkJCWVuZCBpZgoKCQkJCWlmIG10c3NuYW1hcnI6OmdldF9Db3VudCgpID4gMSB0aGVuCgkJCQkJb3ZlcmxkbXRkID0gSGVscGVyczo6R2V0RXh0TWV0KHR5cCwgbmV3IE1ldGhvZE5hbWVUb2sob3ZlcmxkbmFtKSwgcGFyYW1zdHlwcykKCQkJCQlBc21GYWN0b3J5OjpDdXJuVHlwQjo6RGVmaW5lTWV0aG9kT3ZlcnJpZGUoQXNtRmFjdG9yeTo6Q3Vybk1ldEIsIG92ZXJsZG10ZCkKCQkJCWVuZCBpZgoJCQllbmQgaWYKCQkJCgkJCWlmICFmcm9tcHJvdG8gdGhlbgovLwkJCQlpZiBBc21GYWN0b3J5Ojppc05lc3RlZCB0aGVuCi8vCQkJCQlTeW1UYWJsZTo6QWRkTmVzdGVkTWV0KG10c3NuYW1zdHIsIHJldHR5cCwgcGFyYW1zdHlwcywgQXNtRmFjdG9yeTo6Q3Vybk1ldEIpCi8vCQkJCWVsc2UKCQkJCQlTeW1UYWJsZTo6QWRkTWV0KG10c3NuYW1zdHIsIHJldHR5cCwgcGFyYW1zdHlwcywgQXNtRmFjdG9yeTo6Q3Vybk1ldEIsIG5yZ2VucGFyYW1zKQovLwkJCQllbmQgaWYKCQkJZW5kIGlmCgkJCQoJCQlpZiAhSUxFbWl0dGVyOjpQcm90b0ZsZyB0aGVuCgkJCQlpZiBtdHNzOjpQYXJhbXM6OmdldF9Db3VudCgpICE9IDAgdGhlbgoJCQkJCUhlbHBlcnM6OlBvc3RQcm9jZXNzUGFyYW1zKG10c3M6OlBhcmFtcykKCQkJCWVuZCBpZgoJCQllbmQgaWYKCQllbmQgaWYKCQkKCQlIZWxwZXJzOjpBcHBseU1ldEF0dHJzKCkKCQkKCQlpZiAhI2V4cHIoSUxFbWl0dGVyOjpBYnN0cmFjdEZsZyBvcmVsc2UgSUxFbWl0dGVyOjpQcm90b0ZsZyBvcmVsc2UgSUxFbWl0dGVyOjpQSW52b2tlRmxnKSB0aGVuCgkJCUFzbUZhY3Rvcnk6OkluTWV0aG9kRmxnID0gdHJ1ZQoJCWVuZCBpZgoJCUFzbUZhY3Rvcnk6OkN1cm5NZXROYW1lID0gbXRzc25hbXN0cgoJZW5kIG1ldGhvZAoJCgltZXRob2QgcHVibGljIHZvaWQgUmVhZEZvcmVhY2godmFyIGZlc3RtIGFzIEZvcmVhY2hTdG10KQoJCVN5bVRhYmxlOjpQdXNoU2NvcGUoKQoJCW5ldyBFdmFsdWF0b3IoKTo6RXZhbHVhdGUoZmVzdG06OkV4cCkKCQl2YXIgbXRkcyBhcyBNZXRob2RJbmZvW10gPSBIZWxwZXJzOjpQcm9jZXNzRm9yZWFjaChBc21GYWN0b3J5OjpUeXBlMDIpCgkJdmFyIHR0dSA9IEhlbHBlcnM6OkNvbW1pdEV2YWxUVG9rKGZlc3RtOjpUeXApCgkJaWYgKHR0dSA9PSBudWxsKSBhbmQgKGZlc3RtOjpUeXAgIT0gbnVsbCkgdGhlbgoJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCBzdHJpbmc6OkZvcm1hdCgiQ2xhc3MgJ3swfScgaXMgbm90IGRlZmluZWQuIiwgZmVzdG06OlR5cDo6VG9TdHJpbmcoKSkpCgkJZW5kIGlmCgkJdmFyIHR0dTIgYXMgSUtWTS5SZWZsZWN0aW9uLlR5cGUKCQlpZiBtdGRzICE9IG51bGwgdGhlbgoJCQlJTEVtaXR0ZXI6OkVtaXRDYWxsdmlydChtdGRzWzBdKQoJCQlJTEVtaXR0ZXI6OkxvY0luZCsrCgkJCUlMRW1pdHRlcjo6RGVjbFZhcihzdHJpbmc6OkVtcHR5LCBtdGRzWzBdOjpnZXRfUmV0dXJuVHlwZSgpKQoJCQl2YXIgaWVuIGFzIGludGVnZXIgPSBJTEVtaXR0ZXI6OkxvY0luZAoJCQlJTEVtaXR0ZXI6OkVtaXRTdGxvYyhpZW4pCgkJCVN5bVRhYmxlOjpBZGRMb29wKCkKCQkJSUxFbWl0dGVyOjpNYXJrTGJsKFN5bVRhYmxlOjpSZWFkTG9vcFN0YXJ0TGJsKCkpCgkJCUlMRW1pdHRlcjo6RW1pdExkbG9jKGllbikKCQkJSUxFbWl0dGVyOjpFbWl0Q2FsbHZpcnQobXRkc1sxXSkKCQkJSUxFbWl0dGVyOjpFbWl0QnJmYWxzZShTeW1UYWJsZTo6UmVhZExvb3BFbmRMYmwoKSkKCQkJdHR1MiA9IHR0dSA/PyBtdGRzWzJdOjpnZXRfUmV0dXJuVHlwZSgpCgkJCUlMRW1pdHRlcjo6RGVjbFZhcihmZXN0bTo6SXRlcjo6VmFsdWUsIHR0dTIpCgkJCUlMRW1pdHRlcjo6TG9jSW5kKysKCQkJU3ltVGFibGU6OlN0b3JlRmxnID0gdHJ1ZQoJCQlTeW1UYWJsZTo6QWRkVmFyKGZlc3RtOjpJdGVyOjpWYWx1ZSwgdHJ1ZSwgSUxFbWl0dGVyOjpMb2NJbmQsIHR0dTIsIElMRW1pdHRlcjo6TGluZU5yKQoJCQlTeW1UYWJsZTo6U3RvcmVGbGcgPSBmYWxzZQoJCQlJTEVtaXR0ZXI6OkVtaXRMZGxvYyhpZW4pCgkJCUlMRW1pdHRlcjo6RW1pdENhbGx2aXJ0KG10ZHNbMl0pCgkJCWlmIHR0dSAhPSBudWxsIHRoZW4KCQkJCWlmICF0dHU6OkVxdWFscyhtdGRzWzJdOjpnZXRfUmV0dXJuVHlwZSgpKSB0aGVuCgkJCQkJSGVscGVyczo6RW1pdENvbnYobXRkc1syXTo6Z2V0X1JldHVyblR5cGUoKSwgdHR1KQoJCQkJZW5kIGlmCgkJCWVuZCBpZgoJCQlJTEVtaXR0ZXI6OkVtaXRTdGxvYyhJTEVtaXR0ZXI6OkxvY0luZCkKCQllbHNlCgkJCW10ZHMgPSBIZWxwZXJzOjpQcm9jZXNzRm9yZWFjaDIoQXNtRmFjdG9yeTo6VHlwZTAyKQoJCQlpZiBtdGRzICE9IG51bGwgdGhlbgoJCQkJSUxFbWl0dGVyOjpEZWNsVmFyKHN0cmluZzo6RW1wdHksIEFzbUZhY3Rvcnk6OlR5cGUwMikKCQkJCUlMRW1pdHRlcjo6TG9jSW5kKysKCQkJCXZhciBpZW4gYXMgaW50ZWdlciA9IElMRW1pdHRlcjo6TG9jSW5kCgkJCQlJTEVtaXR0ZXI6OkVtaXRTdGxvYyhpZW4pCgkJCQlTeW1UYWJsZTo6QWRkTG9vcCgpCgkJCQlJTEVtaXR0ZXI6Ok1hcmtMYmwoU3ltVGFibGU6OlJlYWRMb29wU3RhcnRMYmwoKSkKCQkJCUlMRW1pdHRlcjo6RW1pdExkbG9jKGllbikKCQkJCUlMRW1pdHRlcjo6RW1pdENhbGx2aXJ0KG10ZHNbMF0pCgkJCQlJTEVtaXR0ZXI6OkVtaXRCcmZhbHNlKFN5bVRhYmxlOjpSZWFkTG9vcEVuZExibCgpKQoJCQkJdHR1MiA9IHR0dSA/PyBtdGRzWzFdOjpnZXRfUmV0dXJuVHlwZSgpCgkJCQlJTEVtaXR0ZXI6OkRlY2xWYXIoZmVzdG06Okl0ZXI6OlZhbHVlLCB0dHUyKQoJCQkJSUxFbWl0dGVyOjpMb2NJbmQrKwoJCQkJU3ltVGFibGU6OlN0b3JlRmxnID0gdHJ1ZQoJCQkJU3ltVGFibGU6OkFkZFZhcihmZXN0bTo6SXRlcjo6VmFsdWUsIHRydWUsIElMRW1pdHRlcjo6TG9jSW5kLCB0dHUyLCBJTEVtaXR0ZXI6OkxpbmVOcikKCQkJCVN5bVRhYmxlOjpTdG9yZUZsZyA9IGZhbHNlCgkJCQlJTEVtaXR0ZXI6OkVtaXRMZGxvYyhpZW4pCgkJCQlJTEVtaXR0ZXI6OkVtaXRDYWxsdmlydChtdGRzWzFdKQoJCQkJaWYgdHR1ICE9IG51bGwgdGhlbgoJCQkJCWlmICF0dHU6OkVxdWFscyhtdGRzWzFdOjpnZXRfUmV0dXJuVHlwZSgpKSB0aGVuCgkJCQkJCUhlbHBlcnM6OkVtaXRDb252KG10ZHNbMV06OmdldF9SZXR1cm5UeXBlKCksIHR0dSkKCQkJCQllbmQgaWYKCQkJCWVuZCBpZgoJCQkJSUxFbWl0dGVyOjpFbWl0U3Rsb2MoSUxFbWl0dGVyOjpMb2NJbmQpCgkJCWVsc2UKCQkJCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsIHN0cmluZzo6Rm9ybWF0KCJDbGFzcyB7MH0gaXMgbm90IGFuIElFbnVtZXJhYmxlL0lFbnVtZXJhdG9yIG9yIElFbnVtZXJhYmxlPG9mIFQ+L0lFbnVtZXJhdG9yPG9mIFQ+LiIsIEFzbUZhY3Rvcnk6OlR5cGUwMjo6VG9TdHJpbmcoKSkpCgkJCWVuZCBpZgoJCWVuZCBpZgoJZW5kIG1ldGhvZAoJCgltZXRob2QgcHVibGljIHZvaWQgUmVhZEV2ZW50KHZhciBldnNzIGFzIEV2ZW50U3RtdCwgdmFyIGZwYXRoIGFzIHN0cmluZykKCQl2YXIgZXR5cCBhcyBJS1ZNLlJlZmxlY3Rpb24uVHlwZSA9IEhlbHBlcnM6OkNvbW1pdEV2YWxUVG9rKGV2c3M6OkV2ZW50VHlwKQoJCXZhciBlaXQgPSBzdHJpbmc6OkVtcHR5CgkJdmFyIHR5cCBhcyBJS1ZNLlJlZmxlY3Rpb24uVHlwZSA9IG51bGwKCQkKCQlpZiBldHlwID09IG51bGwgdGhlbgoJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiQ2xhc3MgJyIgKyBldnNzOjpFdmVudFR5cDo6VmFsdWUgKyAiJyBpcyBub3QgZGVmaW5lZC4iKQoJCWVuZCBpZgoJCQoJCXZhciBldnNzbmFtc3RyIGFzIHN0cmluZyA9IGV2c3M6OkV2ZW50TmFtZTo6VmFsdWUKCQl2YXIgZXZzc25hbWFyciBhcyBDNS5JTGlzdDxvZiBzdHJpbmc+ID0gUGFyc2VVdGlsczo6U3RyaW5nUGFyc2VyTChldnNzbmFtc3RyLCAnLicpCgkJdmFyIGV2b3ZlcmxkbmFtIGFzIHN0cmluZyA9IHN0cmluZzo6RW1wdHkKCQl2YXIgZXZuYW0gPSBldnNzbmFtc3RyCgkJaWYgZXZzc25hbWFycjo6Z2V0X0NvdW50KCkgPiAxIHRoZW4KCQkJZXZvdmVybGRuYW0gPSBldnNzbmFtYXJyOjpnZXRfTGFzdCgpCgkJCWV2bmFtID0gZXZvdmVybGRuYW0KCQkJdHlwID0gSGVscGVyczo6Q29tbWl0RXZhbFRUb2sobmV3IFR5cGVUb2soc3RyaW5nOjpKb2luKCIuIiwgZXZzc25hbWFycjo6VmlldygwLC0tZXZzc25hbWFycjo6Z2V0X0NvdW50KCkpOjpUb0FycmF5KCkpKSkKCQkJZWl0ID0gdHlwOjpUb1N0cmluZygpCgkJCWV2c3NuYW1zdHIgPSB0eXA6OlRvU3RyaW5nKCkgKyAiLiIgKyBldm92ZXJsZG5hbQoJCWVuZCBpZgoJCQoJCUFzbUZhY3Rvcnk6OkN1cm5FdmVudEIgPSBBc21GYWN0b3J5OjpDdXJuVHlwQjo6RGVmaW5lRXZlbnQoZXZzc25hbXN0cixFdmVudEF0dHJpYnV0ZXM6Ok5vbmUsIGV0eXApCgkJU3ltVGFibGU6OkN1cm5FdmVudCA9IG5ldyBFdmVudEl0ZW0oZXZuYW0sIGV0eXAsIEFzbUZhY3Rvcnk6OkN1cm5FdmVudEIsIGV2c3M6OkF0dHJzLCBlaXQpCgkJQXNtRmFjdG9yeTo6Q3VybkV2ZW50VHlwZSA9IGV0eXAKCQkKCQlIZWxwZXJzOjpBcHBseUV2ZW50QXR0cnMoKQoJCQoJCVN0cmVhbVV0aWxzOjpXcml0ZUxpbmUoIglBZGRpbmcgRXZlbnQ6ICIgKyBldnNzOjpFdmVudE5hbWU6OlZhbHVlKQoJZW5kIG1ldGhvZAoJCgltZXRob2QgcHVibGljIHZvaWQgUmVhZEV2ZW50QWRkKHZhciBldmFzIGFzIEV2ZW50QWRkU3RtdCwgdmFyIGZwYXRoIGFzIHN0cmluZykKCQlpZiBldmFzOjpBZGRlciAhPSBudWxsIHRoZW4KCQkJaWYgU3ltVGFibGU6OkN1cm5FdmVudDo6RXhwbEltcGxUeXBlOjpnZXRfTGVuZ3RoKCkgPiAwIHRoZW4KCQkJCWV2YXM6OkFkZGVyOjpWYWx1ZSA9IFN5bVRhYmxlOjpDdXJuRXZlbnQ6OkV4cGxJbXBsVHlwZSArICIuIiArIGV2YXM6OkFkZGVyOjpWYWx1ZQoJCQllbmQgaWYKCQkJCgkJCXZhciBtYiBhcyBNZXRob2RCdWlsZGVyID0gJE1ldGhvZEJ1aWxkZXIkU3ltVGFibGU6OkZpbmRNZXQoZXZhczpBZGRlcjo6VmFsdWUsIG5ldyBJS1ZNLlJlZmxlY3Rpb24uVHlwZVtdIHtTeW1UYWJsZTo6Q3VybkV2ZW50OjpFdmVudFR5cH0pCgkJCWlmIG1iICE9IG51bGwgdGhlbgoJCQkJQXNtRmFjdG9yeTo6Q3VybkV2ZW50Qjo6U2V0QWRkT25NZXRob2QobWIpCgkJCWVsc2UKCQkJCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsICJNZXRob2QgJyIgKyBldmFzOjpBZGRlcjo6VmFsdWUgKyAiJyB3aXRoIHRoZSByZXF1aXJlZCBzaWduYXR1cmUgaXMgbm90IGRlZmluZWQuIikKCQkJZW5kIGlmCgkJCVN0cmVhbVV0aWxzOjpXcml0ZSgiCQlTZXR0aW5nIEV2ZW50IEFkZGVyOiAiKQoJCQlTdHJlYW1VdGlsczo6V3JpdGVMaW5lKGV2YXM6OkFkZGVyOjpWYWx1ZSkKCQllbHNlCgkJCXZhciBjZXZlbnQgPSBTeW1UYWJsZTo6Q3VybkV2ZW50CgkJCXZhciBtZXRuYW1lID0gI3Rlcm5hcnl7Y2V2ZW50OjpFeHBsSW1wbFR5cGU6OmdldF9MZW5ndGgoKSA+IDAgPyBjZXZlbnQ6OkV4cGxJbXBsVHlwZSArICIuYWRkXyIsICJhZGRfIn0gICsgY2V2ZW50OjpOYW1lCgkJCXZhciBtZXRzID0gbmV3IE1ldGhvZFN0bXQoKSB7TWV0aG9kTmFtZSA9IG5ldyBNZXRob2ROYW1lVG9rKG5ldyBJZGVudChtZXRuYW1lKSksIFJldFR5cCA9IG5ldyBWb2lkVG9rKCksIExpbmUgPSBldmFzOjpMaW5lLCAgXwoJCQkJIEF0dHJzID0gbmV3IEM1LkxpbmtlZExpc3Q8b2YgQXR0cmlidXRlcy5BdHRyaWJ1dGU+KCkge0FkZEFsbChjZXZlbnQ6OkF0dHJzKSwgQWRkKG5ldyBIaWRlQnlTaWdBdHRyKCkpLCBBZGQobmV3IFNwZWNpYWxOYW1lQXR0cigpKX19CgkJCW1ldHM6OkFkZFBhcmFtKG5ldyBWYXJFeHByKCkge1Zhck5hbWUgPSBuZXcgSWRlbnQoInZhbHVlIiksIFZhclR5cCA9IG5ldyBUeXBlVG9rKGNldmVudDo6RXZlbnRUeXApfSkKCQkJUmVhZChtZXRzLGZwYXRoKQoJCQljZXZlbnQ6OkV2ZW50Qmxkcjo6U2V0QWRkT25NZXRob2QoQXNtRmFjdG9yeTo6Q3Vybk1ldEIpCgkJZW5kIGlmCgllbmQgbWV0aG9kCgkKCW1ldGhvZCBwdWJsaWMgdm9pZCBSZWFkRXZlbnRSZW1vdmUodmFyIGV2YXMgYXMgRXZlbnRSZW1vdmVTdG10LCB2YXIgZnBhdGggYXMgc3RyaW5nKQoJCWlmIGV2YXM6OlJlbW92ZXIgIT0gbnVsbCB0aGVuCgkJCWlmIFN5bVRhYmxlOjpDdXJuRXZlbnQ6OkV4cGxJbXBsVHlwZTo6Z2V0X0xlbmd0aCgpID4gMCB0aGVuCgkJCQlldmFzOjpSZW1vdmVyOjpWYWx1ZSA9IFN5bVRhYmxlOjpDdXJuRXZlbnQ6OkV4cGxJbXBsVHlwZSArICIuIiArIGV2YXM6OlJlbW92ZXI6OlZhbHVlCgkJCWVuZCBpZgoJCQkKCQkJdmFyIG1iIGFzIE1ldGhvZEJ1aWxkZXIgPSAkTWV0aG9kQnVpbGRlciRTeW1UYWJsZTo6RmluZE1ldChldmFzOlJlbW92ZXI6OlZhbHVlLCBuZXcgSUtWTS5SZWZsZWN0aW9uLlR5cGVbXSB7U3ltVGFibGU6OkN1cm5FdmVudDo6RXZlbnRUeXB9KQoJCQlpZiBtYiAhPSBudWxsIHRoZW4KCQkJCUFzbUZhY3Rvcnk6OkN1cm5FdmVudEI6OlNldFJlbW92ZU9uTWV0aG9kKG1iKQoJCQllbHNlCgkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiTWV0aG9kICciICsgZXZhczo6UmVtb3Zlcjo6VmFsdWUgKyAiJyB3aXRoIHRoZSByZXF1aXJlZCBzaWduYXR1cmUgaXMgbm90IGRlZmluZWQuIikKCQkJZW5kIGlmCgkJCVN0cmVhbVV0aWxzOjpXcml0ZSgiCQlTZXR0aW5nIEV2ZW50IFJlbW92ZXI6ICIpCgkJCVN0cmVhbVV0aWxzOjpXcml0ZUxpbmUoZXZhczo6UmVtb3Zlcjo6VmFsdWUpCgkJZWxzZQoJCQl2YXIgY2V2ZW50ID0gU3ltVGFibGU6OkN1cm5FdmVudAoJCQl2YXIgbWV0bmFtZSA9ICN0ZXJuYXJ5e2NldmVudDo6RXhwbEltcGxUeXBlOjpnZXRfTGVuZ3RoKCkgPiAwID8gY2V2ZW50OjpFeHBsSW1wbFR5cGUgKyAiLnJlbW92ZV8iLCAicmVtb3ZlXyJ9ICArIGNldmVudDo6TmFtZQoJCQl2YXIgbWV0cyA9IG5ldyBNZXRob2RTdG10KCkge01ldGhvZE5hbWUgPSBuZXcgTWV0aG9kTmFtZVRvayhuZXcgSWRlbnQobWV0bmFtZSkpLCBSZXRUeXAgPSBuZXcgVm9pZFRvaygpLCBMaW5lID0gZXZhczo6TGluZSwgIF8KCQkJCSBBdHRycyA9IG5ldyBDNS5MaW5rZWRMaXN0PG9mIEF0dHJpYnV0ZXMuQXR0cmlidXRlPigpIHtBZGRBbGwoY2V2ZW50OjpBdHRycyksIEFkZChuZXcgSGlkZUJ5U2lnQXR0cigpKSwgQWRkKG5ldyBTcGVjaWFsTmFtZUF0dHIoKSl9fQoJCQltZXRzOjpBZGRQYXJhbShuZXcgVmFyRXhwcigpIHtWYXJOYW1lID0gbmV3IElkZW50KCJ2YWx1ZSIpLCBWYXJUeXAgPSBuZXcgVHlwZVRvayhjZXZlbnQ6OkV2ZW50VHlwKX0pCgkJCVJlYWQobWV0cyxmcGF0aCkKCQkJY2V2ZW50OjpFdmVudEJsZHI6OlNldFJlbW92ZU9uTWV0aG9kKEFzbUZhY3Rvcnk6OkN1cm5NZXRCKQoJCWVuZCBpZgoJZW5kIG1ldGhvZAoJCgltZXRob2QgcHVibGljIHZvaWQgUmVhZFZlcih2YXIgYXNtdiBhcyBWZXJTdG10LCB2YXIgZnBhdGggYXMgc3RyaW5nKQoJCUFzbUZhY3Rvcnk6OkFzbU5hbWVTdHI6OnNldF9WZXJzaW9uKGFzbXY6OlRvVmVyc2lvbigpKQoJCWlmIEFzbUZhY3Rvcnk6OlBDTFNldCB0aGVuCgkJCUFzbUZhY3Rvcnk6OkFzbU5hbWVTdHI6OnNldF9GbGFncyhBc3NlbWJseU5hbWVGbGFnczo6UmV0YXJnZXRhYmxlKQoJCWVuZCBpZgoKCQl2YXIgbW9kcyBhcyBzdHJpbmcgPSAjdGVybmFyeSB7QXNtRmFjdG9yeTo6QXNtTW9kZSA9PSAiZXhlIiBvciBBc21GYWN0b3J5OjpBc21Nb2RlID09ICJ3aW5leGUiID8gImV4ZSIsICJkbGwiIH0KCgkJQXNtRmFjdG9yeTo6QXNtQiA9IElMRW1pdHRlcjo6VW5pdjo6RGVmaW5lRHluYW1pY0Fzc2VtYmx5KEFzbUZhY3Rvcnk6OkFzbU5hbWVTdHIsIEFzc2VtYmx5QnVpbGRlckFjY2Vzczo6U2F2ZSwgRGlyZWN0b3J5OjpHZXRDdXJyZW50RGlyZWN0b3J5KCkpCgkJQXNtRmFjdG9yeTo6TWRsQiA9IEFzbUZhY3Rvcnk6OkFzbUI6OkRlZmluZUR5bmFtaWNNb2R1bGUoQXNtRmFjdG9yeTo6QXNtTmFtZVN0cjo6Z2V0X05hbWUoKSArICIuIiArIG1vZHMsIEFzbUZhY3Rvcnk6OkFzbU5hbWVTdHI6OmdldF9OYW1lKCkgKyAiLiIgKyBtb2RzLCBBc21GYWN0b3J5OjpEZWJ1Z0ZsZykKCgkJaWYgQXNtRmFjdG9yeTo6RGVidWdGbGcgdGhlbgoJCQlmcGF0aCA9IFBhdGg6OkdldEZ1bGxQYXRoKGZwYXRoKQoJCQl2YXIgZG9jdyBhcyBJU3ltYm9sRG9jdW1lbnRXcml0ZXIgPSBBc21GYWN0b3J5OjpNZGxCOjpEZWZpbmVEb2N1bWVudChmcGF0aCwgR3VpZDo6RW1wdHksIEd1aWQ6OkVtcHR5LCBHdWlkOjpFbXB0eSkKCQkJSUxFbWl0dGVyOjpEb2NXcml0ZXIgPSBkb2N3CgkJCUlMRW1pdHRlcjo6QWRkRG9jV3JpdGVyKGRvY3cpCgkJZW5kIGlmCgoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJaWYgQXNtRmFjdG9yeTo6RGVidWdGbGcgdGhlbgoJCQl2YXIgZHR5cCBhcyBJS1ZNLlJlZmxlY3Rpb24uVHlwZSA9IExvYWRlcjo6Q2FjaGVkTG9hZENsYXNzKCJTeXN0ZW0uRGlhZ25vc3RpY3MuRGVidWdnYWJsZUF0dHJpYnV0ZSIpCgkJCXZhciBkZWJ1Z2F0dHIgYXMgRGVidWdnYWJsZUF0dHJpYnV0ZVxEZWJ1Z2dpbmdNb2RlcyA9IERlYnVnZ2FibGVBdHRyaWJ1dGVcRGVidWdnaW5nTW9kZXM6OkRlZmF1bHQgb3IgRGVidWdnYWJsZUF0dHJpYnV0ZVxEZWJ1Z2dpbmdNb2Rlczo6RGlzYWJsZU9wdGltaXphdGlvbnMKCQkJdmFyIGRhdHR5cCBhcyBJS1ZNLlJlZmxlY3Rpb24uVHlwZSA9IExvYWRlcjo6Q2FjaGVkTG9hZENsYXNzKCJTeXN0ZW0uRGlhZ25vc3RpY3MuRGVidWdnYWJsZUF0dHJpYnV0ZVxEZWJ1Z2dpbmdNb2RlcyIpCgkJCUFzbUZhY3Rvcnk6OkFzbUI6OlNldEN1c3RvbUF0dHJpYnV0ZShuZXcgQ3VzdG9tQXR0cmlidXRlQnVpbGRlcihkdHlwOjpHZXRDb25zdHJ1Y3RvcihuZXcgSUtWTS5SZWZsZWN0aW9uLlR5cGVbXSB7ZGF0dHlwfSksIG5ldyBvYmplY3RbXSB7JG9iamVjdCRkZWJ1Z2F0dHJ9KSkKCQllbmQgaWYKCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCQoJCUhlbHBlcnM6OkFwcGx5QXNtQXR0cnMoKQoJCQoJCUFzbUZhY3Rvcnk6OkFzbUZpbGUgPSBBc21GYWN0b3J5OjpBc21OYW1lU3RyOjpnZXRfTmFtZSgpICsgIi4iICsgbW9kcwovLwkJSW1wb3J0ZXI6OkFkZEFzbShBc21GYWN0b3J5OjpBc21CKQoJZW5kIG1ldGhvZAoJCgltZXRob2QgcHVibGljIHZvaWQgUmVhZEZpZWxkKHZhciBmbHNzIGFzIEZpZWxkU3RtdCkKCQl2YXIgZnR5cCBhcyBJS1ZNLlJlZmxlY3Rpb24uVHlwZSA9IEhlbHBlcnM6OkNvbW1pdEV2YWxUVG9rKGZsc3M6OkZpZWxkVHlwKQoJCQkKCQlpZiBmdHlwID09IG51bGwgdGhlbgoJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCBzdHJpbmc6OkZvcm1hdCgiQ2xhc3MgJ3swfScgaXMgbm90IGRlZmluZWQuIiwgZmxzczo6RmllbGRUeXA6OlZhbHVlKSkKCQllbmQgaWYKCQkKCQlBc21GYWN0b3J5OjpDdXJuRmxkQiA9IEFzbUZhY3Rvcnk6OkN1cm5UeXBCOjpEZWZpbmVGaWVsZChmbHNzOjpGaWVsZE5hbWU6OlZhbHVlLCBmdHlwLCBIZWxwZXJzOjpQcm9jZXNzRmllbGRBdHRycyhmbHNzOjpBdHRycykpCgkJCgkJaWYgSUxFbWl0dGVyOjpJbnRlcmZhY2VGbGcgdGhlbgoJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiSW50ZXJmYWNlcyBzaG91bGQgbm90IGhhdmUgRmllbGRzISIpCgkJZWxzZWlmICFBc21GYWN0b3J5OjpDdXJuRmxkQjo6Z2V0X0lzU3RhdGljKCkgYW5kIElMRW1pdHRlcjo6U3RhdGljQ0ZsZyB0aGVuCgkJCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsICJTdGF0aWMgQ2xhc3NlcyBzaG91bGQgbm90IGhhdmUgSW5zdGFuY2UgRmllbGRzISIpCgkJZW5kIGlmCgkJCgkJSGVscGVyczo6QXBwbHlGbGRBdHRycygpCgkJCgkJdmFyIGxpdHZhbCBhcyBDb25zdEluZm8gPSBudWxsCgkJaWYgQXNtRmFjdG9yeTo6Q3VybkZsZEI6OmdldF9Jc0xpdGVyYWwoKSB0aGVuCgkJCWlmIGZsc3M6OkNvbnN0RXhwID09IG51bGwgdGhlbgoJCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgIkNvbnN0YW50cyBzaG91bGQgYWx3YXlzIGJlIGluaXRpYWxpemVkIGluIHRoZWlyIGRlY2xhcmF0aW9uISIpCgkJCWVsc2UKCQkJCWxpdHZhbCA9IEhlbHBlcnM6OlByb2Nlc3NDb25zdEV4cHIoZmxzczo6Q29uc3RFeHApCgkJCQlpZiBsaXR2YWw6OlR5cDo6RXF1YWxzKGZ0eXApIHRoZW4KCQkJCQlBc21GYWN0b3J5OjpDdXJuRmxkQjo6U2V0Q29uc3RhbnQobGl0dmFsOjpWYWx1ZSkKCQkJCWVsc2UKCQkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCBzdHJpbmc6OkZvcm1hdCgiU2xvdHMgb2YgdHlwZSAnezB9JyBjYW5ub3QgYmUgYXNzaWduZWQgdmFsdWVzIG9mIHR5cGUgJ3sxfScuIiwgZnR5cDo6VG9TdHJpbmcoKSwgbGl0dmFsOjpUeXA6OlRvU3RyaW5nKCkpKQoJCQkJZW5kIGlmCgkJCWVuZCBpZgoJCWVuZCBpZgoJCQovLwkJaWYgQXNtRmFjdG9yeTo6aXNOZXN0ZWQgdGhlbgovLwkJCVN5bVRhYmxlOjpBZGROZXN0ZWRGbGQoZmxzczo6RmllbGROYW1lOjpWYWx1ZSwgZnR5cCwgQXNtRmFjdG9yeTo6Q3VybkZsZEIpCi8vCQllbHNlCgkJCVN5bVRhYmxlOjpBZGRGbGQoZmxzczo6RmllbGROYW1lOjpWYWx1ZSwgZnR5cCwgQXNtRmFjdG9yeTo6Q3VybkZsZEIsICN0ZXJuYXJ5eyBsaXR2YWwgPT0gbnVsbCA/IG51bGwsIGxpdHZhbDo6VmFsdWV9KQovLwkJZW5kIGlmCgoJCVN0cmVhbVV0aWxzOjpXcml0ZSgjdGVybmFyeXtBc21GYWN0b3J5OjpDdXJuRmxkQjo6Z2V0X0lzTGl0ZXJhbCgpID8gICIJQWRkaW5nIENvbnN0YW50OiAiLCAiCUFkZGluZyBGaWVsZDogIn0pCgkJU3RyZWFtVXRpbHM6OldyaXRlTGluZShmbHNzOjpGaWVsZE5hbWU6OlZhbHVlKQoJZW5kIG1ldGhvZAoJCgltZXRob2QgcHVibGljIHZvaWQgUmVhZEZvcih2YXIgZnN0bSBhcyBGb3JTdG10LCB2YXIgZnBhdGggYXMgc3RyaW5nKQoJCXZhciB0dHUgPSBIZWxwZXJzOjpDb21taXRFdmFsVFRvayhmc3RtOjpUeXApCgkJaWYgKHR0dSA9PSBudWxsKSBhbmQgKGZzdG06OlR5cCAhPSBudWxsKSB0aGVuCgkJCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsIHN0cmluZzo6Rm9ybWF0KCJDbGFzcyAnezB9JyBpcyBub3QgZGVmaW5lZC4iLCBmc3RtOjpUeXA6OlRvU3RyaW5nKCkpKQoJCWVuZCBpZgoJCVN5bVRhYmxlOjpQdXNoU2NvcGUoKQoJCQoJCXZhciBldmFsID0gbmV3IEV2YWx1YXRvcigpCgkJZXZhbDo6RXZhbHVhdGUoZnN0bTo6U3RhcnRFeHApCgkJdmFyIHR0dTIgPSB0dHUgPz8gQXNtRmFjdG9yeTo6VHlwZTAyCgkJSUxFbWl0dGVyOjpEZWNsVmFyKGZzdG06Okl0ZXI6OlZhbHVlLCB0dHUyKQoJCUlMRW1pdHRlcjo6TG9jSW5kKysKCQlTeW1UYWJsZTo6U3RvcmVGbGcgPSB0cnVlCgkJU3ltVGFibGU6OkFkZFZhcihmc3RtOjpJdGVyOjpWYWx1ZSwgdHJ1ZSwgSUxFbWl0dGVyOjpMb2NJbmQsIHR0dTIsIElMRW1pdHRlcjo6TGluZU5yKQoJCVN5bVRhYmxlOjpTdG9yZUZsZyA9IGZhbHNlCgkJaWYgdHR1ICE9IG51bGwgdGhlbgoJCQlpZiAhdHR1OjpFcXVhbHMoQXNtRmFjdG9yeTo6VHlwZTAyKSB0aGVuCgkJCQlIZWxwZXJzOjpFbWl0Q29udihBc21GYWN0b3J5OjpUeXBlMDIsIHR0dSkKCQkJZW5kIGlmCgkJZW5kIGlmCgkJSUxFbWl0dGVyOjpFbWl0U3Rsb2MoSUxFbWl0dGVyOjpMb2NJbmQpCgkJCgkJU3ltVGFibGU6OkFkZEZvckxvb3AoZnN0bTo6SXRlcjo6VmFsdWUsIGZzdG06OlN0ZXBFeHAsIGZzdG06OkRpcmVjdGlvbiwgZnN0bTo6VHlwKQoJCUlMRW1pdHRlcjo6TWFya0xibChTeW1UYWJsZTo6UmVhZExvb3BTdGFydExibCgpKQoJCXZhciBldCA9IGV2YWw6OkNvbnZUb0FTVChldmFsOjpDb252VG9SUE4oZnN0bTo6RW5kRXhwKSkKCQlldmFsOjpBU1RFbWl0KGV0LCBmYWxzZSkKCQlpZiB0dHUgIT0gbnVsbCB0aGVuCgkJCWlmICF0dHU6OkVxdWFscyhBc21GYWN0b3J5OjpUeXBlMDIpIHRoZW4KCQkJCWV0ID0gbmV3IEV4cHJDYWxsVG9rKCkge0V4cCA9IG5ldyBFeHByKCkge0FkZFRva2VuKGV0KX0sIHNldF9Db252KHRydWUpLCBzZXRfVFRvayhmc3RtOjpUeXApLCBzZXRfT3JkT3AoImNvbnYiKX0KCQkJZW5kIGlmCgkJZW5kIGlmCgkJCgkJZXZhbDo6RXZhbHVhdGUobmV3IEV4cHIoKSB7TGluZSA9IGZzdG06OkxpbmUsIEFkZFRva2VuKGZzdG06Okl0ZXIpLCBBZGRUb2tlbigjdGVybmFyeXtmc3RtOjpEaXJlY3Rpb24gPyBuZXcgR3RPcCgpLCBuZXcgTHRPcCgpfSkgLCBfCgkJCUFkZFRva2VuKGV0KX0pCgkJCgkJSUxFbWl0dGVyOjpFbWl0QnJ0cnVlKFN5bVRhYmxlOjpSZWFkTG9vcEVuZExibCgpKQoJZW5kIG1ldGhvZAoJCgltZXRob2QgcHVibGljIHZvaWQgUmVhZFByb3BlcnR5R2V0KHZhciBwcmdzIGFzIFByb3BlcnR5R2V0U3RtdCwgdmFyIGZwYXRoIGFzIHN0cmluZykKCQl2YXIgY3Byb3AgPSBTeW1UYWJsZTo6Q3VyblByb3AKCQlpZiBwcmdzOjpHZXR0ZXIgIT0gbnVsbCB0aGVuCgkJCWlmIGNwcm9wOjpFeHBsSW1wbFR5cGU6OmdldF9MZW5ndGgoKSA+IDAgdGhlbgoJCQkJcHJnczo6R2V0dGVyOjpWYWx1ZSA9IGNwcm9wOjpFeHBsSW1wbFR5cGUgKyAiLiIgKyBwcmdzOjpHZXR0ZXI6OlZhbHVlCgkJCWVuZCBpZgoJCQkKCQkJdmFyIG1iIGFzIE1ldGhvZEJ1aWxkZXIgPSAkTWV0aG9kQnVpbGRlciRTeW1UYWJsZTo6RmluZE1ldChwcmdzOjpHZXR0ZXI6OlZhbHVlLCBjcHJvcDo6UGFyYW1UeXBzKQoJCQlpZiBtYiAhPSBudWxsIHRoZW4KCQkJCUFzbUZhY3Rvcnk6OkN1cm5Qcm9wQjo6U2V0R2V0TWV0aG9kKG1iKQoJCQllbHNlCgkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiTWV0aG9kICciICsgcHJnczo6R2V0dGVyOjpWYWx1ZSArICInIHdpdGggdGhlIHJlcXVpcmVkIHNpZ25hdHVyZSBpcyBub3QgZGVmaW5lZC4iKQoJCQllbmQgaWYKCQkJU3RyZWFtVXRpbHM6OldyaXRlKCIJCVNldHRpbmcgUHJvcGVydHkgR2V0dGVyOiAiKQoJCQlTdHJlYW1VdGlsczo6V3JpdGVMaW5lKHByZ3M6OkdldHRlcjo6VmFsdWUpCgkJZWxzZQoJCQl2YXIgbWV0bmFtZSA9ICN0ZXJuYXJ5e2Nwcm9wOjpFeHBsSW1wbFR5cGU6OmdldF9MZW5ndGgoKSA+IDAgPyBjcHJvcDo6RXhwbEltcGxUeXBlICsgIi5nZXRfIiwgImdldF8ifSAgKyBjcHJvcDo6TmFtZQoJCQlSZWFkKG5ldyBNZXRob2RTdG10KCkge01ldGhvZE5hbWUgPSBuZXcgTWV0aG9kTmFtZVRvayhuZXcgSWRlbnQobWV0bmFtZSkpLCBSZXRUeXAgPSBuZXcgVHlwZVRvayhjcHJvcDo6UHJvcGVydHlUeXApLCBMaW5lID0gcHJnczo6TGluZSwgUGFyYW1zID0gY3Byb3A6OlBhcmFtcywgXwoJCQkJIEF0dHJzID0gbmV3IEM1LkxpbmtlZExpc3Q8b2YgQXR0cmlidXRlcy5BdHRyaWJ1dGU+KCkge0FkZEFsbChjcHJvcDo6QXR0cnMpLCBBZGQobmV3IEhpZGVCeVNpZ0F0dHIoKSksIEFkZChuZXcgU3BlY2lhbE5hbWVBdHRyKCkpfX0sZnBhdGgpCgkJCWNwcm9wOjpQcm9wZXJ0eUJsZHI6OlNldEdldE1ldGhvZChBc21GYWN0b3J5OjpDdXJuTWV0QikKCQllbmQgaWYKCWVuZCBtZXRob2QKCQoJbWV0aG9kIHB1YmxpYyB2b2lkIFJlYWRQcm9wZXJ0eVNldCh2YXIgcHJzcyBhcyBQcm9wZXJ0eVNldFN0bXQsIHZhciBmcGF0aCBhcyBzdHJpbmcpCgkJdmFyIGNwcm9wID0gU3ltVGFibGU6OkN1cm5Qcm9wCgkJaWYgcHJzczo6U2V0dGVyICE9IG51bGwgdGhlbgoJCQlpZiBjcHJvcDo6RXhwbEltcGxUeXBlOjpnZXRfTGVuZ3RoKCkgPiAwIHRoZW4KCQkJCXByc3M6OlNldHRlcjo6VmFsdWUgPSBjcHJvcDo6RXhwbEltcGxUeXBlICsgIi4iICsgcHJzczo6U2V0dGVyOjpWYWx1ZQoJCQllbmQgaWYKCQkJCgkJCXZhciBtYiBhcyBNZXRob2RCdWlsZGVyID0gJE1ldGhvZEJ1aWxkZXIkU3ltVGFibGU6OkZpbmRNZXQocHJzczo6U2V0dGVyOjpWYWx1ZSwgXwoJCQkJRW51bWVyYWJsZTo6VG9BcnJheTxvZiBJS1ZNLlJlZmxlY3Rpb24uVHlwZT4oRW51bWVyYWJsZTo6Q29uY2F0PG9mIElLVk0uUmVmbGVjdGlvbi5UeXBlPihjcHJvcDo6UGFyYW1UeXBzLCBuZXcgSUtWTS5SZWZsZWN0aW9uLlR5cGVbXSB7Y3Byb3A6OlByb3BlcnR5VHlwfSkpICkKCQkJaWYgbWIgIT0gbnVsbCB0aGVuCgkJCQlBc21GYWN0b3J5OjpDdXJuUHJvcEI6OlNldFNldE1ldGhvZChtYikKCQkJZWxzZQoJCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgIk1ldGhvZCAnIiArIHByc3M6OlNldHRlcjo6VmFsdWUgKyAiJyB3aXRoIHRoZSByZXF1aXJlZCBzaWduYXR1cmUgaXMgbm90IGRlZmluZWQuIikKCQkJZW5kIGlmCgkJCVN0cmVhbVV0aWxzOjpXcml0ZSgiCQlTZXR0aW5nIFByb3BlcnR5IFNldHRlcjogIikKCQkJU3RyZWFtVXRpbHM6OldyaXRlTGluZShwcnNzOjpTZXR0ZXI6OlZhbHVlKQoJCWVsc2UKCQkJdmFyIG1ldG5hbWUgPSAjdGVybmFyeXtjcHJvcDo6RXhwbEltcGxUeXBlOjpnZXRfTGVuZ3RoKCkgPiAwID8gY3Byb3A6OkV4cGxJbXBsVHlwZSArICIuc2V0XyIsICJzZXRfIn0gICsgY3Byb3A6Ok5hbWUKCQkJdmFyIG1ldHMgPSBuZXcgTWV0aG9kU3RtdCgpIHtNZXRob2ROYW1lID0gbmV3IE1ldGhvZE5hbWVUb2sobmV3IElkZW50KG1ldG5hbWUpKSwgUmV0VHlwID0gbmV3IFZvaWRUb2soKSwgTGluZSA9IHByc3M6OkxpbmUsIFBhcmFtcyA9IGNwcm9wOjpQYXJhbXMsICBfCgkJCQkgQXR0cnMgPSBuZXcgQzUuTGlua2VkTGlzdDxvZiBBdHRyaWJ1dGVzLkF0dHJpYnV0ZT4oKSB7QWRkQWxsKGNwcm9wOjpBdHRycyksIEFkZChuZXcgSGlkZUJ5U2lnQXR0cigpKSwgQWRkKG5ldyBTcGVjaWFsTmFtZUF0dHIoKSl9fQoJCQltZXRzOjpBZGRQYXJhbShuZXcgVmFyRXhwcigpIHtWYXJOYW1lID0gbmV3IElkZW50KCJ2YWx1ZSIpLCBWYXJUeXAgPSBuZXcgVHlwZVRvayhjcHJvcDo6UHJvcGVydHlUeXApfSkKCQkJUmVhZChtZXRzLGZwYXRoKQoJCQljcHJvcDo6UHJvcGVydHlCbGRyOjpTZXRTZXRNZXRob2QoQXNtRmFjdG9yeTo6Q3Vybk1ldEIpCgkJZW5kIGlmCgllbmQgbWV0aG9kCgkKCW1ldGhvZCBwdWJsaWMgdm9pZCBSZWFkUHJvcGVydHkodmFyIHByc3MgYXMgUHJvcGVydHlTdG10LCB2YXIgZnBhdGggYXMgc3RyaW5nKQoJCXZhciBwdHlwIGFzIElLVk0uUmVmbGVjdGlvbi5UeXBlID0gSGVscGVyczo6Q29tbWl0RXZhbFRUb2socHJzczo6UHJvcGVydHlUeXApCgkJdmFyIGVpdCA9IHN0cmluZzo6RW1wdHkKCQl2YXIgdHlwIGFzIElLVk0uUmVmbGVjdGlvbi5UeXBlID0gbnVsbAoJCQoJCWlmIHB0eXAgPT0gbnVsbCB0aGVuCgkJCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsICJDbGFzcyAnIiArIHByc3M6OlByb3BlcnR5VHlwOjpWYWx1ZSArICInIGlzIG5vdCBkZWZpbmVkLiIpCgkJZW5kIGlmCgoJCXZhciBwYXJhbXN0eXBzIGFzIElLVk0uUmVmbGVjdGlvbi5UeXBlW10gPSAjdGVybmFyeSB7cHJzczo6UGFyYW1zOjpnZXRfQ291bnQoKSA9PSAwID8gSUtWTS5SZWZsZWN0aW9uLlR5cGU6OkVtcHR5VHlwZXMgLCBIZWxwZXJzOjpQcm9jZXNzUGFyYW1zKHByc3M6OlBhcmFtcyl9CgoJCXZhciBwcnNzbmFtc3RyIGFzIHN0cmluZyA9IHByc3M6OlByb3BlcnR5TmFtZTo6VmFsdWUKCQl2YXIgcHJzc25hbWFyciBhcyBDNS5JTGlzdDxvZiBzdHJpbmc+ID0gUGFyc2VVdGlsczo6U3RyaW5nUGFyc2VyTChwcnNzbmFtc3RyLCAnLicpCgkJdmFyIHByb3BvdmVybGRuYW0gYXMgc3RyaW5nID0gc3RyaW5nOjpFbXB0eQoJCXZhciBwcm9wbmFtID0gcHJzc25hbXN0cgoJCWlmIHByc3NuYW1hcnI6OmdldF9Db3VudCgpID4gMSB0aGVuCgkJCXByb3BvdmVybGRuYW0gPSBwcnNzbmFtYXJyOjpnZXRfTGFzdCgpCgkJCXByb3BuYW0gPSBwcm9wb3ZlcmxkbmFtCgkJCXR5cCA9IEhlbHBlcnM6OkNvbW1pdEV2YWxUVG9rKG5ldyBUeXBlVG9rKHN0cmluZzo6Sm9pbigiLiIsIHByc3NuYW1hcnI6OlZpZXcoMCwtLXByc3NuYW1hcnI6OmdldF9Db3VudCgpKTo6VG9BcnJheSgpKSkpCgkJCWVpdCA9IHR5cDo6VG9TdHJpbmcoKQoJCQlwcnNzbmFtc3RyID0gdHlwOjpUb1N0cmluZygpICsgIi4iICsgcHJvcG92ZXJsZG5hbQoJCWVuZCBpZgoJCQoJCUFzbUZhY3Rvcnk6OkN1cm5Qcm9wQiA9IEFzbUZhY3Rvcnk6OkN1cm5UeXBCOjpEZWZpbmVQcm9wZXJ0eShwcnNzbmFtc3RyLCBQcm9wZXJ0eUF0dHJpYnV0ZXM6Ok5vbmUsIHB0eXAsIHBhcmFtc3R5cHMpCgkJU3ltVGFibGU6OkN1cm5Qcm9wID0gbmV3IFByb3BlcnR5SXRlbShwcm9wbmFtLCBwdHlwLCBBc21GYWN0b3J5OjpDdXJuUHJvcEIsIHByc3M6OkF0dHJzLCBlaXQpIHtQYXJhbVR5cHMgPSBwYXJhbXN0eXBzLCBQYXJhbXMgPSBwcnNzOjpQYXJhbXN9CgkJCgkJSGVscGVyczo6QXBwbHlQcm9wQXR0cnMoKQoKCQlTdHJlYW1VdGlsczo6V3JpdGUoIglBZGRpbmcgUHJvcGVydHk6ICIpCgkJU3RyZWFtVXRpbHM6OldyaXRlTGluZShwcnNzOjpQcm9wZXJ0eU5hbWU6OlZhbHVlKQoJCQoJCXZhciBpc2F1dG8gYXMgYm9vbGVhbiA9IGZhbHNlCgkJdmFyIGlzYXV0b2luZCBhcyBpbnRlZ2VyID0gLTEKCQl2YXIgaXNyZG9ubHkgYXMgYm9vbGVhbiA9IGZhbHNlCgkJdmFyIGlzcmRvbmx5aW5kIGFzIGludGVnZXIgPSAtMQoJCXZhciBpc3N0YXRpYyBhcyBib29sZWFuID0gZmFsc2UKCQl2YXIgaXNhYnN0cmFjdCBhcyBib29sZWFuID0gZmFsc2UKCgkJaWYgSUxFbWl0dGVyOjpJbnRlcmZhY2VGbGcgdGhlbgoJCQlwcnNzOjpBZGRBdHRyKG5ldyBBYnN0cmFjdEF0dHIoKSkKCQllbmQgaWYKCgkJdmFyIGkgYXMgaW50ZWdlciA9IC0xCgkJZm9yZWFjaCBhIGluIHByc3M6OkF0dHJzCgkJCWkrKwoJCQlpZiBhIGlzIEF1dG9HZW5BdHRyIHRoZW4KCQkJCWlzYXV0byA9IHRydWUKCQkJCWlzYXV0b2luZCA9IGkKCQkJZWxzZWlmIGEgaXMgSW5pdE9ubHlBdHRyIHRoZW4KCQkJCWlzcmRvbmx5ID0gdHJ1ZQoJCQkJaXNyZG9ubHlpbmQgPSAjdGVybmFyeSB7aXNhdXRvID8gLS1pLCBpfQoJCQllbHNlaWYgYSBpcyBTdGF0aWNBdHRyIHRoZW4KCQkJCWlzc3RhdGljID0gdHJ1ZQoJCQllbHNlaWYgYSBpcyBBYnN0cmFjdEF0dHIgdGhlbgoJCQkJaXNhYnN0cmFjdCA9IHRydWUKCQkJZW5kIGlmCgkJZW5kIGZvcgoJCQoJCWlmIGlzYXV0byB0aGVuCgkJCQoJCQkvL2NoZWNrIHRoYXQgcGFyYW1zW2xdID09IDAKCQkJaWYgcGFyYW1zdHlwc1tsXSA+IDAgdGhlbgoJCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgIkF1dG8gZ2VuZXJhdGlvbiBvZiBJbmRleGVycyBpcyBub3Qgc3VwcG9ydGVkISIpCgkJCWVuZCBpZgoKCQkJcHJzczo6QXR0cnM6OlJlbW92ZUF0KGlzYXV0b2luZCkKCQkJaWYgaXNyZG9ubHkgdGhlbgoJCQkJcHJzczo6QXR0cnM6OlJlbW92ZUF0KGlzcmRvbmx5aW5kKQoJCQllbmQgaWYKCgkJCS8vaXQgaXMgbm90IGFuIGVycm9yIHRoYXQgdGhlc2UgYXJlIG5vdCBldmFsJ2QgaW4gYWxsIGNhc2VzIChNRVRIT0RTIEhBVkUgU0lNSUxBUiBWQUxJREFUSU9OKQoJCQkvL2lmIElMRW1pdHRlcjo6SW50ZXJmYWNlRmxnIGFuZCAhaXNhYnN0cmFjdCB0aGVuCgkJCS8vCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsICJQcm9wZXJ0aWVzIGluIEludGVyZmFjZXMgc2hvdWxkIGFsbCBiZSBBYnN0cmFjdCEiKQoJCQlpZiBJTEVtaXR0ZXI6OkludGVyZmFjZUZsZyBhbmQgaXNzdGF0aWMgdGhlbgoJCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgIlByb3BlcnRpZXMgaW4gSW50ZXJmYWNlcyBzaG91bGQgbm90IGJlIFN0YXRpYyEiKQoJCQllbHNlaWYgIWlzc3RhdGljIGFuZCBJTEVtaXR0ZXI6OlN0YXRpY0NGbGcgdGhlbgoJCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgIlN0YXRpYyBDbGFzc2VzIHNob3VsZCBub3QgaGF2ZSBJbnN0YW5jZSBQcm9wZXJ0aWVzISIpCgkJCWVuZCBpZgoJCQkKCQkJLy9maWVsZAoJCQlpZiAhaXNhYnN0cmFjdCB0aGVuCgkJCQl2YXIgZmxkID0gSGVscGVyczo6R2V0TG9jRmxkKCJfIiArIHByb3BuYW0pCgkJCQlpZiBmbGQgPT0gbnVsbCB0aGVuCgkJCQkJdmFyIGF0dHJzID0gbmV3IEM1LkxpbmtlZExpc3Q8b2YgQXR0cmlidXRlcy5BdHRyaWJ1dGU+IHtuZXcgUHJpdmF0ZUF0dHIoKX0KCQkJCQlpZiBpc3N0YXRpYyB0aGVuCgkJCQkJCWF0dHJzOjpBZGQobmV3IFN0YXRpY0F0dHIoKSkKCQkJCQllbmQgaWYKCQkJCQlSZWFkRmllbGQobmV3IEZpZWxkU3RtdCgpIHtMaW5lID0gcHJzczo6TGluZSwgRmllbGROYW1lID0gbmV3IElkZW50KCJfIiArIHByb3BuYW0pLCBfCgkJCQkJCUZpZWxkVHlwID0gcHJzczo6UHJvcGVydHlUeXAsIEF0dHJzID0gYXR0cnN9KQoJCQkJZWxzZQoJCQkJCWlmICFmbGQ6OmdldF9GaWVsZFR5cGUoKTo6RXF1YWxzKHB0eXApIHRoZW4KCQkJCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgc3RyaW5nOjpGb3JtYXQoIkFscmVhZHkgZXhpc3RpbmcgZmllbGQgJ197MH0nIGlzIG5vdCBvZiB0aGUgcmVxdWlyZWQgdHlwZSAnezF9JyEiLCBwcm9wbmFtLCBwdHlwOjpUb1N0cmluZygpKSkKCQkJCQllbmQgaWYKCQkJCWVuZCBpZgoJCQllbmQgaWYKCQkJLy9nZXR0ZXIKCQkJUmVhZFByb3BlcnR5R2V0KG5ldyBQcm9wZXJ0eUdldFN0bXQoKSB7R2V0dGVyID0gbnVsbCwgTGluZSA9IHByc3M6OkxpbmV9LCBmcGF0aCkKCQkJaWYgIWlzYWJzdHJhY3QgdGhlbgoJCQkJUmVhZChuZXcgUmV0dXJuU3RtdCgpIHtMaW5lID0gcHJzczo6TGluZSwgUkV4cCA9IG5ldyBFeHByKCkge0FkZFRva2VuKG5ldyBJZGVudCgiXyIgKyBwcm9wbmFtKSl9IH0sIGZwYXRoKQoJCQkJUmVhZChuZXcgRW5kTWV0aG9kU3RtdCgpIHtMaW5lID0gcHJzczo6TGluZX0sIGZwYXRoKQoJCQllbmQgaWYKCQkJLy9zZXR0ZXIKCQkJaWYgIWlzcmRvbmx5IHRoZW4KCQkJCVJlYWRQcm9wZXJ0eVNldChuZXcgUHJvcGVydHlTZXRTdG10KCkge1NldHRlciA9IG51bGwsIExpbmUgPSBwcnNzOjpMaW5lfSwgZnBhdGgpCgkJCQlpZiAhaXNhYnN0cmFjdCB0aGVuCgkJCQkJbmV3IEV2YWx1YXRvcigpOjpTdG9yZUVtaXQobmV3IElkZW50KCJfIiArIHByb3BuYW0pLCBuZXcgRXhwcigpIHtBZGRUb2tlbihuZXcgSWRlbnQoInZhbHVlIikpfSkKCQkJCQlSZWFkKG5ldyBFbmRNZXRob2RTdG10KCkge0xpbmUgPSBwcnNzOjpMaW5lfSwgZnBhdGgpCgkJCQllbmQgaWYKCQkJZW5kIGlmCgkJCS8vZW5kCgkJCVN5bVRhYmxlOjpDdXJuUHJvcCA9IG51bGwKCQllbmQgaWYKCQkKCWVuZCBtZXRob2QKCQoJbWV0aG9kIHB1YmxpYyB2b2lkIFJlYWRFbmREbyh2YXIgZnBhdGggYXMgc3RyaW5nKQoJCXZhciBmbCA9IFN5bVRhYmxlOjpSZWFkTG9vcCgpIGFzIEZvckxvb3BJdGVtCgkJaWYgZmwgIT0gbnVsbCB0aGVuCgkJCWlmIGZsOjpDb250aW51ZUZsZyB0aGVuCgkJCQlJTEVtaXR0ZXI6Ok1hcmtMYmwoZmw6OlN0ZXBMYWJlbCkKCQkJZW5kIGlmCgkJCWlmIGZsOjpTdGVwRXhwID09IG51bGwgdGhlbgoJCQkJUmVhZCgjdGVybmFyeXtmbDo6RGlyZWN0aW9uID8gbmV3IEluY1N0bXQoKSB7TGluZSA9IGZsOjpMaW5lLCBOdW1WYXIgPSBuZXcgSWRlbnQoZmw6Okl0ZXIpfSwgXwoJCQkJCW5ldyBEZWNTdG10KCkge0xpbmUgPSBmbDo6TGluZSwgTnVtVmFyID0gbmV3IElkZW50KGZsOjpJdGVyKX19LGZwYXRoKQoJCQllbHNlCgkJCQl2YXIgdHR1ID0gSGVscGVyczo6Q29tbWl0RXZhbFRUb2soZmw6OlR5cCkKCQkJCWlmICh0dHUgPT0gbnVsbCkgYW5kIChmbDo6VHlwICE9IG51bGwpIHRoZW4KCQkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCBzdHJpbmc6OkZvcm1hdCgiQ2xhc3MgJ3swfScgaXMgbm90IGRlZmluZWQuIiwgZmw6OlR5cDo6VG9TdHJpbmcoKSkpCgkJCQllbmQgaWYKCQkJCQoJCQkJdmFyIGV2YWwgPSBuZXcgRXZhbHVhdG9yKCkKCQkJCXZhciBpZHQgPSBuZXcgSWRlbnQoZmw6Okl0ZXIpIHtMaW5lID0gZmw6OkxpbmV9CgkJCQl2YXIgZXQgPSBldmFsOjpDb252VG9BU1QoZXZhbDo6Q29udlRvUlBOKGZsOjpTdGVwRXhwKSkJCgkJCQlldmFsOjpBU1RFbWl0KGV0LCBmYWxzZSkKCQkJCQoJCQkJaWYgdHR1ICE9IG51bGwgdGhlbgoJCQkJCWlmICF0dHU6OkVxdWFscyhBc21GYWN0b3J5OjpUeXBlMDIpIHRoZW4KCQkJCQkJZXQgPSBuZXcgRXhwckNhbGxUb2soKSB7RXhwID0gbmV3IEV4cHIoKSB7QWRkVG9rZW4oZXQpfSwgc2V0X0NvbnYodHJ1ZSksIHNldF9UVG9rKGZsOjpUeXApLCBzZXRfT3JkT3AoImNvbnYiKX0KCQkJCQllbmQgaWYKCQkJCWVuZCBpZgoJCQkJCgkJCQl2YXIgZWUgPSBuZXcgRXhwcigpIHtMaW5lID0gZmw6OkxpbmUsIEFkZFRva2VuKGlkdCksIEFkZFRva2VuKCN0ZXJuYXJ5e2ZsOjpEaXJlY3Rpb24gPyBuZXcgQWRkT3AoKSwgXwoJCQkJIG5ldyBTdWJPcCgpfSkgLCBBZGRUb2tlbihldCl9CgkJCQkgUmVhZChuZXcgQXNzaWduU3RtdCgpIHtMaW5lID0gZmw6OkxpbmUsIExFeHAgPSBuZXcgRXhwcigpIHtMaW5lID0gZmw6OkxpbmUsIEFkZFRva2VuKGlkdCkgfSwgUkV4cCA9IGVlfSwgZnBhdGgpCgkJCWVuZCBpZgoJCWVuZCBpZgoJCQoJCUlMRW1pdHRlcjo6RW1pdEJyKFN5bVRhYmxlOjpSZWFkTG9vcFN0YXJ0TGJsKCkpCgkJSUxFbWl0dGVyOjpNYXJrTGJsKFN5bVRhYmxlOjpSZWFkTG9vcEVuZExibCgpKQoJCVN5bVRhYmxlOjpQb3BMb29wKCkKCQlTeW1UYWJsZTo6UG9wU2NvcGUoKQoJZW5kIG1ldGhvZAoJCgltZXRob2QgcHVibGljIHZvaWQgUmVhZCh2YXIgc3RtIGFzIFN0bXQsIHZhciBmcGF0aCBhcyBzdHJpbmcpCgkJdmFyIHZ0eXAgYXMgSUtWTS5SZWZsZWN0aW9uLlR5cGUgPSBudWxsCgkJdmFyIGV2YWwgYXMgRXZhbHVhdG9yID0gbnVsbAoKCQlBc21GYWN0b3J5OjpDaGFpbkZsZyA9IGZhbHNlCgkJSUxFbWl0dGVyOjpMaW5lTnIgPSBzdG06OkxpbmUKCQlJTEVtaXR0ZXI6OkN1clNyY0ZpbGUgPSBmcGF0aAoJCVN5bVRhYmxlOjpTdG9yZUZsZyA9IGZhbHNlCgoJCWlmIEFzbUZhY3Rvcnk6OkRlYnVnRmxnIHRoZW4KCQkJaWYgQXNtRmFjdG9yeTo6SW5NZXRob2RGbGcgdGhlbgoJCQkJSUxFbWl0dGVyOjpNYXJrRGJnUHQoc3RtOjpMaW5lKQoJCQllbmQgaWYKCQllbmQgaWYKCgkJaWYgc3RtIGlzIFJlZmFzbVN0bXQgdGhlbgoJCQl2YXIgcmFzdG0gYXMgUmVmYXNtU3RtdCA9ICRSZWZhc21TdG10JHN0bQoJCQlyYXN0bTo6QXNtUGF0aDo6VmFsdWUgPSByYXN0bTo6QXNtUGF0aDo6Z2V0X1VucXVvdGVkVmFsdWUoKQoKCQkJaWYgcmFzdG06OkFzbVBhdGg6OlZhbHVlIGxpa2UgIl5tZW1vcnk6KC4pKiQiIHRoZW4KCQkJCXZhciBwdGggPSByYXN0bTo6QXNtUGF0aDo6VmFsdWU6OlN1YnN0cmluZyg3KQoKCQkJCWlmICFNZW1vcnlGUzo6SGFzRmlsZShwdGgpIHRoZW4KCQkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiSW4tTWVtb3J5IEFzc2VtYmx5IEZpbGUgJyIgKyBwdGggKyAiJyBkb2VzIG5vdCBleGlzdC4iKQoJCQkJZW5kIGlmCgkJCQoJCQkJU3RyZWFtVXRpbHM6OldyaXRlKCJSZWZlcmVuY2luZyBJbi1NZW1vcnkgQXNzZW1ibHk6ICIpCgkJCQlTdHJlYW1VdGlsczo6V3JpdGVMaW5lKHB0aCkKCQkJCUltcG9ydGVyOjpBZGRBc20ocmFzdG06OkFzbVBhdGg6OlZhbHVlLCBJTEVtaXR0ZXI6OlVuaXY6OkxvYWRBc3NlbWJseShJTEVtaXR0ZXI6OlVuaXY6Ok9wZW5SYXdNb2R1bGUoTWVtb3J5RlM6OkdldEZpbGUocHRoKSwgJHN0cmluZyRudWxsKSkpCgoJCQkJaWYgcmFzdG06OkVtYmVkSWZVc2VkIHRoZW4KCQkJCQlTeW1UYWJsZTo6UmVzTHN0OjpBZGQoVHVwbGU6OkNyZWF0ZTxvZiBzdHJpbmcsIHN0cmluZywgYm9vbGVhbj4ocmFzdG06OkFzbVBhdGg6OlZhbHVlLCBzdHJpbmc6OkVtcHR5LCB0cnVlKSkKCQkJCWVuZCBpZgoKCQkJZWxzZQoJCQkJcmFzdG06OkFzbVBhdGg6OlZhbHVlID0gUGFyc2VVdGlsczo6UHJvY2Vzc01TWVNQYXRoKHJhc3RtOjpBc21QYXRoOjpWYWx1ZSkKCQkJCgkJCQlpZiAhRmlsZTo6RXhpc3RzKHJhc3RtOjpBc21QYXRoOjpWYWx1ZSkgdGhlbgoJCQkJCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsICJBc3NlbWJseSBGaWxlICciICsgcmFzdG06OkFzbVBhdGg6OlZhbHVlICsgIicgZG9lcyBub3QgZXhpc3QuIikKCQkJCWVuZCBpZgoJCQkKCQkJCVN0cmVhbVV0aWxzOjpXcml0ZSgiUmVmZXJlbmNpbmcgQXNzZW1ibHk6ICIpCgkJCQlTdHJlYW1VdGlsczo6V3JpdGVMaW5lKHJhc3RtOjpBc21QYXRoOjpWYWx1ZSkKCQkJCUltcG9ydGVyOjpBZGRBc20ocmFzdG06OkFzbVBhdGg6OlZhbHVlLCBJTEVtaXR0ZXI6OlVuaXY6OkxvYWRGaWxlKHJhc3RtOjpBc21QYXRoOjpWYWx1ZSkpCgoJCQkJaWYgcmFzdG06OkVtYmVkSWZVc2VkIHRoZW4KCQkJCQlTeW1UYWJsZTo6UmVzTHN0OjpBZGQoVHVwbGU6OkNyZWF0ZTxvZiBzdHJpbmcsIHN0cmluZywgYm9vbGVhbj4ocmFzdG06OkFzbVBhdGg6OlZhbHVlLCBzdHJpbmc6OkVtcHR5LCB0cnVlKSkKCQkJCWVuZCBpZgoJCQllbmQgaWYKCQllbHNlaWYgc3RtIGlzIFJlZnN0ZGFzbVN0bXQgdGhlbgoJCQl2YXIgcnNhc3RtIGFzIFJlZnN0ZGFzbVN0bXQgPSAkUmVmc3RkYXNtU3RtdCRzdG0KCQkJcnNhc3RtOjpBc21QYXRoOjpWYWx1ZSA9IFBhdGg6OkNvbWJpbmUoSW1wb3J0ZXI6OkFzbUJhc2VQYXRoLCBQYXJzZVV0aWxzOjpQcm9jZXNzTVNZU1BhdGgocnNhc3RtOjpBc21QYXRoOjpnZXRfVW5xdW90ZWRWYWx1ZSgpKSkKCQkJCgkJCWlmICFGaWxlOjpFeGlzdHMocnNhc3RtOjpBc21QYXRoOjpWYWx1ZSkgdGhlbgoJCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgIkFzc2VtYmx5IEZpbGUgJyIgKyByc2FzdG06OkFzbVBhdGg6OlZhbHVlICsgIicgZG9lcyBub3QgZXhpc3QuIikKCQkJZW5kIGlmCgkJCQoJCQlTdHJlYW1VdGlsczo6V3JpdGUoIlJlZmVyZW5jaW5nIEFzc2VtYmx5OiAiKQoJCQlTdHJlYW1VdGlsczo6V3JpdGVMaW5lKHJzYXN0bTo6QXNtUGF0aDo6VmFsdWUpCgkJCUltcG9ydGVyOjpBZGRBc20ocnNhc3RtOjpBc21QYXRoOjpWYWx1ZSwgSUxFbWl0dGVyOjpVbml2OjpMb2FkRmlsZShyc2FzdG06OkFzbVBhdGg6OlZhbHVlKSkKCQllbHNlaWYgc3RtIGlzIFNpZ25TdG10IHRoZW4KCQkJdmFyIHNzdG0gYXMgU2lnblN0bXQgPSAkU2lnblN0bXQkc3RtCgkJCXNzdG06OktleVBhdGg6OlZhbHVlID0gUGFyc2VVdGlsczo6UHJvY2Vzc01TWVNQYXRoKHNzdG06OktleVBhdGg6OmdldF9VbnF1b3RlZFZhbHVlKCkpCgkJCQoJCQlpZiBGaWxlOjpFeGlzdHMoc3N0bTo6S2V5UGF0aDo6VmFsdWUpIHRoZW4KCQkJCVN0cmVhbVV0aWxzOjpXcml0ZSgiU2V0dGluZyBTaWduaW5nIEtleTogIikKCQkJCVN0cmVhbVV0aWxzOjpXcml0ZUxpbmUoc3N0bTo6S2V5UGF0aDo6VmFsdWUpCgkJCQl2YXIgZnMgPSBuZXcgRmlsZVN0cmVhbShzc3RtOjpLZXlQYXRoOjpWYWx1ZSwgRmlsZU1vZGU6Ok9wZW4pCgkJCQlBc21GYWN0b3J5OjpTdHJvbmdLZXkgPSBuZXcgU3Ryb25nTmFtZUtleVBhaXIoZnMpCgkJCQlmczo6Q2xvc2UoKQoJCQllbHNlCgkJCQlTdHJlYW1VdGlsczo6V3JpdGVXYXJuKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsICJLZXkgRmlsZSAnIiArIHNzdG06OktleVBhdGg6OlZhbHVlICsgIicgZG9lcyBub3QgZXhpc3QuIikKCQkJZW5kIGlmCgkJZWxzZWlmIHN0bSBpcyBFbWJlZFN0bXQgdGhlbgoJCQl2YXIgc3N0bSBhcyBFbWJlZFN0bXQgPSAkRW1iZWRTdG10JHN0bQoJCQlzc3RtOjpQYXRoOjpWYWx1ZSA9IFBhcnNlVXRpbHM6OlByb2Nlc3NNU1lTUGF0aChzc3RtOjpQYXRoOjpnZXRfVW5xdW90ZWRWYWx1ZSgpKQoJCQkKCQkJaWYgRmlsZTo6RXhpc3RzKHNzdG06OlBhdGg6OlZhbHVlKSB0aGVuCgkJCQlTdHJlYW1VdGlsczo6V3JpdGUoIkFkZGluZyBSZXNvdXJjZTogIikKCQkJCVN0cmVhbVV0aWxzOjpXcml0ZUxpbmUoc3N0bTo6UGF0aDo6VmFsdWUpCgkJCQlTeW1UYWJsZTo6UmVzTHN0OjpBZGQoVHVwbGU6OkNyZWF0ZTxvZiBzdHJpbmcsIHN0cmluZywgYm9vbGVhbj4oc3N0bTo6UGF0aDo6VmFsdWUsIHNzdG06OkxvZ2ljYWxOYW1lOjpnZXRfVW5xdW90ZWRWYWx1ZSgpLCBmYWxzZSkpCgkJCWVsc2UKCQkJCVN0cmVhbVV0aWxzOjpXcml0ZVdhcm4oSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgIlJlc291cmNlIEZpbGUgJyIgKyBzc3RtOjpQYXRoOjpWYWx1ZSArICInIGRvZXMgbm90IGV4aXN0LiIpCgkJCWVuZCBpZgoJCWVsc2VpZiBzdG0gaXMgSW1wb3J0U3RtdCB0aGVuCgkJCXZhciBpc3RtIGFzIEltcG9ydFN0bXQgPSAkSW1wb3J0U3RtdCRzdG0KCQkJaXN0bTo6TlM6OlZhbHVlID0gaXN0bTo6TlM6OmdldF9VbnF1b3RlZFZhbHVlKCkKCQkJaXN0bTo6QWxpYXM6OlZhbHVlID0gaXN0bTo6QWxpYXM6OmdldF9VbnF1b3RlZFZhbHVlKCkKCQkJCgkJCWlmIGlzdG06OkFsaWFzOjpWYWx1ZTo6Z2V0X0xlbmd0aCgpID09IDAgdGhlbgoJCQkJU3RyZWFtVXRpbHM6OldyaXRlKCJJbXBvcnRpbmcgTmFtZXNwYWNlOiAiKQoJCQkJU3RyZWFtVXRpbHM6OldyaXRlTGluZShpc3RtOjpOUzo6VmFsdWUpCgkJCQlJbXBvcnRlcjo6QWRkSW1wKGlzdG06Ok5TOjpWYWx1ZSkKCQkJZWxzZQoJCQkJU3RyZWFtVXRpbHM6OldyaXRlTGluZSgiQWxpYXNpbmcgJyIgKyBpc3RtOjpBbGlhczo6VmFsdWUgKyAiJyB0byBOYW1lc3BhY2U6ICIgKyBpc3RtOjpOUzo6VmFsdWUpCgkJCQlJbXBvcnRlcjo6UmVnaXN0ZXJBbGlhcyhpc3RtOjpBbGlhczo6VmFsdWUsaXN0bTo6TlM6OlZhbHVlKQoJCQllbmQgaWYKCQllbHNlaWYgc3RtIGlzIExvY2ltcG9ydFN0bXQgdGhlbgoJCQl2YXIgbGlzdG0gYXMgTG9jaW1wb3J0U3RtdCA9ICRMb2NpbXBvcnRTdG10JHN0bQoJCQlsaXN0bTo6TlM6OlZhbHVlID0gbGlzdG06Ok5TOjpnZXRfVW5xdW90ZWRWYWx1ZSgpCgkJCQoJCQlTdHJlYW1VdGlsczo6V3JpdGUoIkltcG9ydGluZyBOYW1lc3BhY2U6ICIpCgkJCVN0cmVhbVV0aWxzOjpXcml0ZUxpbmUobGlzdG06Ok5TOjpWYWx1ZSkKCQkJSW1wb3J0ZXI6OkFkZEltcChsaXN0bTo6TlM6OlZhbHVlKQoJCWVsc2VpZiBzdG0gaXMgQXNzZW1ibHlTdG10IHRoZW4KCQkJdmFyIGFzbXMgYXMgQXNzZW1ibHlTdG10ID0gJEFzc2VtYmx5U3RtdCRzdG0KCQkJQXNtRmFjdG9yeTo6QXNtTmFtZVN0ciA9IG5ldyBBc3NlbWJseU5hbWUoYXNtczo6QXNtTmFtZTo6VmFsdWUpCgkJCWlmIEFzbUZhY3Rvcnk6OlN0cm9uZ0tleSAhPSBudWxsIHRoZW4KCQkJCUFzbUZhY3Rvcnk6OkFzbU5hbWVTdHI6OnNldF9LZXlQYWlyKEFzbUZhY3Rvcnk6OlN0cm9uZ0tleSkKCQkJZW5kIGlmCgkJCUFzbUZhY3Rvcnk6OkFzbU1vZGUgPSBhc21zOjpNb2RlOjpWYWx1ZQoJCQlBc21GYWN0b3J5OjpEZmx0TlMgPSBhc21zOjpBc21OYW1lOjpWYWx1ZQoJCQlBc21GYWN0b3J5OjpDdXJuTlMgPSBhc21zOjpBc21OYW1lOjpWYWx1ZQoJCQlTdHJlYW1VdGlsczo6V3JpdGUoIkJlZ2lubmluZyBBc3NlbWJseTogIikKCQkJU3RyZWFtVXRpbHM6OldyaXRlTGluZShhc21zOjpBc21OYW1lOjpWYWx1ZSkKCQkJU3ltVGFibGU6OlR5cGVMc3QgPSBuZXcgVHlwZUxpc3QoKQoJCWVsc2VpZiBzdG0gaXMgVmVyU3RtdCB0aGVuCgkJCVJlYWRWZXIoJFZlclN0bXQkc3RtLCBmcGF0aCkKCQllbHNlaWYgc3RtIGlzIERlYnVnU3RtdCB0aGVuCgkJCXZhciBkYmdzIGFzIERlYnVnU3RtdCA9ICREZWJ1Z1N0bXQkc3RtCgkJCUFzbUZhY3Rvcnk6OkRlYnVnRmxnID0gZGJnczo6RmxnCgkJCWlmIGRiZ3M6OkZsZyB0aGVuCgkJCQlTeW1UYWJsZTo6QWRkRGVmKCJERUJVRyIpCgkJCWVuZCBpZgoJCWVsc2VpZiBzdG0gaXMgQ2xhc3NTdG10IHRoZW4KCQkJUmVhZENsYXNzKCRDbGFzc1N0bXQkc3RtKQoJCWVsc2VpZiBzdG0gaXMgRW51bVN0bXQgdGhlbgoJCQlSZWFkRW51bSgkRW51bVN0bXQkc3RtKQoJCWVsc2VpZiBzdG0gaXMgRGVsZWdhdGVTdG10IHRoZW4KCQkJUmVhZERlbGVnYXRlKCREZWxlZ2F0ZVN0bXQkc3RtKQoJCWVsc2VpZiBzdG0gaXMgRmllbGRTdG10IHRoZW4KCQkJUmVhZEZpZWxkKCRGaWVsZFN0bXQkc3RtKQoJCWVsc2VpZiBzdG0gaXMgRW5kQ2xhc3NTdG10IHRoZW4KCQkJaWYgQXNtRmFjdG9yeTo6aXNOZXN0ZWQgdGhlbgoJCQkJU3ltVGFibGU6OlR5cGVMc3Q6OkVuc3VyZURlZmF1bHRDdG9yKEFzbUZhY3Rvcnk6OkN1cm5UeXBCKQoJCQkJQXNtRmFjdG9yeTo6Q3JlYXRlVHlwKCkKCgkJCQlBc21GYWN0b3J5OjpDdXJuVHlwQiA9IEFzbUZhY3Rvcnk6OkN1cm5UeXBCMgoJCQkJQXNtRmFjdG9yeTo6Q3VyblR5cE5hbWUgPSBBc21GYWN0b3J5OjpDdXJuVHlwTmFtZTIKCQkJCVN5bVRhYmxlOjpDdXJuVHlwSXRlbSA9IFN5bVRhYmxlOjpDdXJuVHlwSXRlbTIKCQkJCVN5bVRhYmxlOjpUeXBHZW5QYXJhbXMgPSBTeW1UYWJsZTo6VHlwR2VuUGFyYW1zMgoKCQkJCUFzbUZhY3Rvcnk6OmlzTmVzdGVkID0gZmFsc2UKCQkJZWxzZQoJCQkJaWYgIUlMRW1pdHRlcjo6UGFydGlhbEZsZyB0aGVuCgkJCQkJU3ltVGFibGU6OlR5cGVMc3Q6OkVuc3VyZURlZmF1bHRDdG9yKEFzbUZhY3Rvcnk6OkN1cm5UeXBCKQoJCQkJCUFzbUZhY3Rvcnk6OkNyZWF0ZVR5cCgpCgoJCQkJCXZhciBjdGkgPSBTeW1UYWJsZTo6Q3VyblR5cEl0ZW0KCQkJCQlpZiBjdGk6OklzQU5JIHRoZW4KCQkJCQkJdmFyIG1zID0gbmV3IE1lbW9yeVN0cmVhbSgpCgkJCQkJCWN0aTo6QXNtQjo6U2F2ZShtcykKCQkJCQkJbXM6OlNlZWsoMGwsIFNlZWtPcmlnaW46OkJlZ2luKQoJCQkJCQlNZW1vcnlGUzo6QWRkRmlsZShjdGk6OlR5cGVCbGRyOjpnZXRfRnVsbE5hbWUoKSArICIuZGxsIiwgbXMpCgkJCQkJCU1lbW9yeUZTOjpBZGRBTkkoY3RpOjpUeXBlQmxkcjo6Z2V0X0Z1bGxOYW1lKCkgKyAiLmRsbCIpCgkJCQkJCVN5bVRhYmxlOjpSZXNMc3Q6OkFkZChUdXBsZTo6Q3JlYXRlPG9mIHN0cmluZywgc3RyaW5nLCBib29sZWFuPigibWVtb3J5OiIgKyBjdGk6OlR5cGVCbGRyOjpnZXRfRnVsbE5hbWUoKSArICIuZGxsIiwgc3RyaW5nOjpFbXB0eSwgZmFsc2UpKQoJCQkJCWVuZCBpZgoJCQkJZW5kIGlmCgkJCQlBc21GYWN0b3J5OjppbkNsYXNzID0gZmFsc2UKCQkJZW5kIGlmCgkJZWxzZWlmIHN0bSBpcyBFbmRFbnVtU3RtdCB0aGVuCgkJCVN5bVRhYmxlOjpDdXJuVHlwSXRlbTo6QmFrZWRUeXAgPSBBc21GYWN0b3J5OjpDdXJuRW51bUI6OkNyZWF0ZVR5cGUoKQoJCQlBc21GYWN0b3J5OjppbkVudW0gPSBmYWxzZQoKCQkJdmFyIGN0aSA9IFN5bVRhYmxlOjpDdXJuVHlwSXRlbQoJCQlpZiBjdGk6OklzQU5JIHRoZW4KCQkJCXZhciBtcyA9IG5ldyBNZW1vcnlTdHJlYW0oKQoJCQkJY3RpOjpBc21COjpTYXZlKG1zKQoJCQkJbXM6OlNlZWsoMGwsIFNlZWtPcmlnaW46OkJlZ2luKQoJCQkJTWVtb3J5RlM6OkFkZEZpbGUoY3RpOjpFbnVtQmxkcjo6Z2V0X0Z1bGxOYW1lKCkgKyAiLmRsbCIsIG1zKQoJCQkJTWVtb3J5RlM6OkFkZEFOSShjdGk6OkVudW1CbGRyOjpnZXRfRnVsbE5hbWUoKSArICIuZGxsIikKCQkJCVN5bVRhYmxlOjpSZXNMc3Q6OkFkZChUdXBsZTo6Q3JlYXRlPG9mIHN0cmluZywgc3RyaW5nLCBib29sZWFuPigibWVtb3J5OiIgKyBjdGk6OkVudW1CbGRyOjpnZXRfRnVsbE5hbWUoKSArICIuZGxsIiwgc3RyaW5nOjpFbXB0eSwgZmFsc2UpKQoJCQllbmQgaWYKCgkJZWxzZWlmIHN0bSBpcyBNZXRob2RTdG10IHRoZW4KCQkJUmVhZE1ldGhvZCgkTWV0aG9kU3RtdCRzdG0pCgkJZWxzZWlmIHN0bSBpcyBFbmRNZXRob2RTdG10IHRoZW4KCQkJQXNtRmFjdG9yeTo6SW5NZXRob2RGbGcgPSBmYWxzZQoJCQlBc21GYWN0b3J5OjpJbkN0b3JGbGcgPSBmYWxzZQoJCQlpZiAhI2V4cHIoSUxFbWl0dGVyOjpBYnN0cmFjdEZsZyBvcmVsc2UgSUxFbWl0dGVyOjpQcm90b0ZsZyBvcmVsc2UgSUxFbWl0dGVyOjpQSW52b2tlRmxnKSB0aGVuCgkJCQl2YXIgbGkgYXMgTGFiZWxJdGVtID0gU3ltVGFibGU6OkZpbmRMYmwoIiRsZWF2ZV9yZXRfbGFiZWwkIikKCQkJCWlmIGxpICE9IG51bGwgdGhlbgoJCQkJCUlMRW1pdHRlcjo6TWFya0xibChsaTo6TGJsKQoJCQkJCWlmICFBc21GYWN0b3J5OjpDdXJuTWV0Qjo6Z2V0X1JldHVyblR5cGUoKTo6RXF1YWxzKExvYWRlcjo6Q2FjaGVkTG9hZENsYXNzKCJTeXN0ZW0uVm9pZCIpKSB0aGVuCgkJCQkJCXZhciB2ciA9IFN5bVRhYmxlOjpGaW5kVmFyKCIkbGVhdmVfcmV0X3ZhciQiKQoJCQkJCQl2cjo6VXNlZCA9IHRydWUKCQkJCQkJSUxFbWl0dGVyOjpFbWl0TGRsb2ModnI6OkluZGV4KQoJCQkJCWVuZCBpZgoJCQkJZW5kIGlmCgkJCQlJTEVtaXR0ZXI6OkVtaXRSZXQoKQoJCQkJU3ltVGFibGU6OkNoZWNrVW51c2VkVmFyKCkKCQkJCVN5bVRhYmxlOjpDaGVja0N0cmxCbGtzKCkKCQkJCWlmIEFzbUZhY3Rvcnk6OkN1cm5NZXROYW1lID09ICJtYWluIiBvcmVsc2UgQXNtRmFjdG9yeTo6Q3Vybk1ldE5hbWUgPT0gIk1haW4iIHRoZW4KCQkJCQlpZiBBc21GYWN0b3J5OjpBc21Nb2RlID09ICJleGUiIG9yZWxzZSBBc21GYWN0b3J5OjpBc21Nb2RlID09ICJ3aW5leGUiIHRoZW4KCQkJCQkJdmFyIHBlZiBhcyBQRUZpbGVLaW5kcyA9ICN0ZXJuYXJ5IHtBc21GYWN0b3J5OjpBc21Nb2RlID09ICJleGUiID8gUEVGaWxlS2luZHM6OkNvbnNvbGVBcHBsaWNhdGlvbiwgXwoJCQkJCQkJI3Rlcm5hcnkge0FzbUZhY3Rvcnk6OkFzbU1vZGUgPT0gIndpbmV4ZSIgPyBQRUZpbGVLaW5kczo6V2luZG93QXBwbGljYXRpb24sIFBFRmlsZUtpbmRzOjpEbGx9IH0KCQkJCQkJQXNtRmFjdG9yeTo6QXNtQjo6U2V0RW50cnlQb2ludChJTEVtaXR0ZXI6Ok1ldCwgcGVmKQoJCQkJCWVuZCBpZgoJCQkJZW5kIGlmCgkJCWVuZCBpZgoJCWVsc2VpZiBzdG0gaXMgUmV0dXJuU3RtdCB0aGVuCgkJCXZhciByZXRzdG10IGFzIFJldHVyblN0bXQgPSAkUmV0dXJuU3RtdCRzdG0KCQkJaWYgcmV0c3RtdDo6UkV4cCAhPSBudWxsIHRoZW4KCQkJCW5ldyBFdmFsdWF0b3IoKTo6RXZhbHVhdGUocmV0c3RtdDo6UkV4cCkKCQkJCUhlbHBlcnM6OkNoZWNrQXNzaWduYWJpbGl0eShBc21GYWN0b3J5OjpDdXJuTWV0Qjo6Z2V0X1JldHVyblR5cGUoKSwgQXNtRmFjdG9yeTo6VHlwZTAyKQoJCQllbHNlaWYgIUFzbUZhY3Rvcnk6OkN1cm5NZXRCOjpnZXRfUmV0dXJuVHlwZSgpOjpFcXVhbHMoTG9hZGVyOjpDYWNoZWRMb2FkQ2xhc3MoIlN5c3RlbS5Wb2lkIikpIHRoZW4KCQkJCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsICJNZXRob2RzIHdpdGggYSByZXR1cm4gdHlwZSBvZiAndm9pZCcgc2hvdWxkIG5vdCByZXR1cm4gYW55dGhpbmchIS4iKQoJCQllbmQgaWYKCgkJCWlmIFN5bVRhYmxlOjpDaGVja1JldHVybkluVHJ5KCkgdGhlbgoJCQkJdmFyIGxibCA9IFN5bVRhYmxlOjpHZXRSZXRMYmwoKQoJCQkJaWYgIUFzbUZhY3Rvcnk6OkN1cm5NZXRCOjpnZXRfUmV0dXJuVHlwZSgpOjpFcXVhbHMoTG9hZGVyOjpDYWNoZWRMb2FkQ2xhc3MoIlN5c3RlbS5Wb2lkIikpIHRoZW4KCQkJCQl2YXIgdnIgPSBTeW1UYWJsZTo6RmluZFZhcigiJGxlYXZlX3JldF92YXIkIikKCQkJCQlJTEVtaXR0ZXI6OkVtaXRTdGxvYyh2cjo6SW5kZXgpCgkJCQllbmQgaWYKCQkJCUlMRW1pdHRlcjo6RW1pdExlYXZlKGxibCkKCQkJZWxzZQoJCQkJSUxFbWl0dGVyOjpFbWl0UmV0KCkKCQkJZW5kIGlmCgkJZWxzZWlmIHN0bSBpcyBWYXJTdG10IHRoZW4KCQkJdmFyIGN1cnYgYXMgVmFyU3RtdCA9ICRWYXJTdG10JHN0bQoJCQl2dHlwID0gSGVscGVyczo6Q29tbWl0RXZhbFRUb2soY3Vydjo6VmFyVHlwKQoJCQlpZiB2dHlwID0gbnVsbCB0aGVuCgkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiQ2xhc3MgJyIgKyBjdXJ2OjpWYXJUeXA6OlRvU3RyaW5nKCkgKyAiJyBpcyBub3QgZGVmaW5lZC4iKQoJCQllbmQgaWYKCQkJSUxFbWl0dGVyOjpEZWNsVmFyKGN1cnY6OlZhck5hbWU6OlZhbHVlLCB2dHlwKQoJCQlJTEVtaXR0ZXI6OkxvY0luZCsrCgkJCVN5bVRhYmxlOjpBZGRWYXIoY3Vydjo6VmFyTmFtZTo6VmFsdWUsIHRydWUsIElMRW1pdHRlcjo6TG9jSW5kLCB2dHlwLCBJTEVtaXR0ZXI6OkxpbmVOcikKCQllbHNlaWYgc3RtIGlzIFZhckFzZ25TdG10IHRoZW4KCQkJdmFyIGN1cnZhIGFzIFZhckFzZ25TdG10ID0gJFZhckFzZ25TdG10JHN0bQoJCQl2dHlwID0gSGVscGVyczo6Q29tbWl0RXZhbFRUb2soY3VydmE6OlZhclR5cCkKCQkJaWYgdnR5cCA9IG51bGwgdGhlbgoJCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgIkNsYXNzICciICsgY3VydmE6OlZhclR5cDo6VG9TdHJpbmcoKSArICInIGlzIG5vdCBkZWZpbmVkLiIpCgkJCWVuZCBpZgoJCQlJTEVtaXR0ZXI6OkRlY2xWYXIoY3VydmE6OlZhck5hbWU6OlZhbHVlLCB2dHlwKQoJCQlJTEVtaXR0ZXI6OkxvY0luZCsrCgkJCQoJCQlpZiBjdXJ2YTo6SXNVc2luZyB0aGVuCgkJCQlpZiAhTG9hZGVyOjpDYWNoZWRMb2FkQ2xhc3MoIlN5c3RlbS5JRGlzcG9zYWJsZSIpOjpJc0Fzc2lnbmFibGVGcm9tKHZ0eXApIHRoZW4KCQkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiVHlwZSAnIiArIHZ0eXA6OlRvU3RyaW5nKCkgKyAiJyBpcyBub3QgYW4gSURpc3Bvc2FibGUuIikKCQkJCWVuZCBpZgoJCQkJU3ltVGFibGU6OlB1c2hTY29wZSgpCgkJCWVuZCBpZgoJCQkKCQkJU3ltVGFibGU6OkFkZFZhcihjdXJ2YTo6VmFyTmFtZTo6VmFsdWUsIHRydWUsIElMRW1pdHRlcjo6TG9jSW5kLCB2dHlwLCBJTEVtaXR0ZXI6OkxpbmVOcikKCQkJbmV3IEV2YWx1YXRvcigpOjpTdG9yZUVtaXQoY3VydmE6OlZhck5hbWUsIGN1cnZhOjpSRXhwcikKCQkJCgkJCWlmIGN1cnZhOjpJc1VzaW5nIHRoZW4KCQkJCVN5bVRhYmxlOjpBZGRVc2luZyhjdXJ2YTo6VmFyTmFtZTo6VmFsdWUpCgkJCQlJTEVtaXR0ZXI6OkVtaXRUcnkoKQoJCQllbmQgaWYKCQllbHNlaWYgc3RtIGlzIEluZlZhckFzZ25TdG10IHRoZW4KCQkJdmFyIGN1cnZhIGFzIEluZlZhckFzZ25TdG10ID0gJEluZlZhckFzZ25TdG10JHN0bQoJCQlldmFsID0gbmV3IEV2YWx1YXRvcigpCgkJCXZ0eXAgPSBldmFsOjpFdmFsdWF0ZVR5cGUoY3VydmE6OlJFeHByKQoJCQlJTEVtaXR0ZXI6OkRlY2xWYXIoY3VydmE6OlZhck5hbWU6OlZhbHVlLCB2dHlwKQoJCQlJTEVtaXR0ZXI6OkxvY0luZCsrCgkJCQoJCQlpZiBjdXJ2YTo6SXNVc2luZyB0aGVuCgkJCQlpZiAhTG9hZGVyOjpDYWNoZWRMb2FkQ2xhc3MoIlN5c3RlbS5JRGlzcG9zYWJsZSIpOjpJc0Fzc2lnbmFibGVGcm9tKHZ0eXApIHRoZW4KCQkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiVHlwZSAnIiArIHZ0eXA6OlRvU3RyaW5nKCkgKyAiJyBpcyBub3QgYW4gSURpc3Bvc2FibGUuIikKCQkJCWVuZCBpZgoJCQkJU3ltVGFibGU6OlB1c2hTY29wZSgpCgkJCWVuZCBpZgoJCQkKCQkJU3ltVGFibGU6OkFkZFZhcihjdXJ2YTo6VmFyTmFtZTo6VmFsdWUsIHRydWUsIElMRW1pdHRlcjo6TG9jSW5kLCB2dHlwLCBJTEVtaXR0ZXI6OkxpbmVOcikKCQkJZXZhbDo6U3RvcmVFbWl0KGN1cnZhOjpWYXJOYW1lLCBjdXJ2YTo6UkV4cHIpCgkJCQoJCQlpZiBjdXJ2YTo6SXNVc2luZyB0aGVuCgkJCQlTeW1UYWJsZTo6QWRkVXNpbmcoY3VydmE6OlZhck5hbWU6OlZhbHVlKQoJCQkJSUxFbWl0dGVyOjpFbWl0VHJ5KCkKCQkJZW5kIGlmCgkJZWxzZWlmIHN0bSBpcyBOU1N0bXQgdGhlbgoJCQl2YXIgbnNzIGFzIE5TU3RtdCA9ICROU1N0bXQkc3RtCgkJCUFzbUZhY3Rvcnk6OlB1c2hOUyhuc3M6Ok5TOjpnZXRfVW5xdW90ZWRWYWx1ZSgpKQoJCWVsc2VpZiBzdG0gaXMgRW5kTlNTdG10IHRoZW4KCQkJQXNtRmFjdG9yeTo6UG9wTlMoKQoJCWVsc2VpZiBzdG0gaXMgQXNzaWduU3RtdCB0aGVuCgkJCXZhciBhc2duc3RtIGFzIEFzc2lnblN0bXQgPSAkQXNzaWduU3RtdCRzdG0KCQkJaWYgIUFzbUZhY3Rvcnk6OmluRW51bSB0aGVuCgkJCQluZXcgRXZhbHVhdG9yKCk6OlN0b3JlRW1pdChhc2duc3RtOjpMRXhwOjpUb2tlbnM6OmdldF9JdGVtKDApLCBhc2duc3RtOjpSRXhwKQoJCQllbHNlCgkJCQkvL2VudW0gbWVtYmVycwoJCQkJdmFyIGxpdHZhbCBhcyBDb25zdEluZm8gPSBudWxsCgkJCQl2YXIgbmFtZSA9IGFzZ25zdG06OkxFeHA6OlRva2Vuczo6Z2V0X0l0ZW0oMCk6OlZhbHVlCgkJCQlpZiBhc2duc3RtOjpSRXhwOjpUb2tlbnM6OmdldF9Db3VudCgpIDwgMSB0aGVuCgkJCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgIkVudW0gbWVtYmVycyBzaG91bGQgYWx3YXlzIGJlIGluaXRpYWxpemVkIGluIHRoZWlyIGRlY2xhcmF0aW9uISIpCgkJCQllbHNlCgkJCQkJbGl0dmFsID0gSGVscGVyczo6UHJvY2Vzc0NvbnN0RXhwcihhc2duc3RtOjpSRXhwKQoJCQkJCWlmIGxpdHZhbDo6VHlwOjpFcXVhbHMoU3ltVGFibGU6OkN1cm5UeXBJdGVtOjpJbmhUeXApIHRoZW4KCQkJCQkJQXNtRmFjdG9yeTo6Q3VybkZsZEIgPSBBc21GYWN0b3J5OjpDdXJuRW51bUI6OkRlZmluZUxpdGVyYWwobmFtZSwgbGl0dmFsOjpWYWx1ZSkKCQkJCQkJU3ltVGFibGU6OkFkZEZsZChuYW1lLCBTeW1UYWJsZTo6Q3VyblR5cEl0ZW06OkVudW1CbGRyLCBBc21GYWN0b3J5OjpDdXJuRmxkQiwgbGl0dmFsOjpWYWx1ZSkKCQkJCQkJSGVscGVyczo6QXBwbHlGbGRBdHRycygpCgkJCQkJZWxzZQoJCQkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCBzdHJpbmc6OkZvcm1hdCgiU2xvdHMgb2YgdHlwZSAnezB9JyBjYW5ub3QgYmUgYXNzaWduZWQgdmFsdWVzIG9mIHR5cGUgJ3sxfScuIiwgU3ltVGFibGU6OkN1cm5UeXBJdGVtOjpJbmhUeXA6OlRvU3RyaW5nKCksIGxpdHZhbDo6VHlwOjpUb1N0cmluZygpKSkKCQkJCQllbmQgaWYKCQkJCWVuZCBpZgoJCQllbmQgaWYKCQllbHNlaWYgc3RtIGlzIE1ldGhvZENhbGxTdG10IHRoZW4KCQkJdmFyIG1jc3RtdCBhcyBNZXRob2RDYWxsU3RtdCA9ICRNZXRob2RDYWxsU3RtdCRzdG0KCQkJaWYgSGVscGVyczo6U2V0UG9wRmxnKG1jc3RtdDo6TWV0aG9kVG9rZW4pICE9IG51bGwgdGhlbgoJCQkJdmFyIGV2YWwyID0gbmV3IEV2YWx1YXRvcigpCgkJCQl2YXIgYXN0dG9rIGFzIFRva2VuID0gZXZhbDI6OkNvbnZUb0FTVChldmFsMjo6Q29udlRvUlBOKG5ldyBFeHByKCkge0FkZFRva2VuKG1jc3RtdDo6TWV0aG9kVG9rZW4pfSkpCgkJCQlldmFsMjo6QVNURW1pdChhc3R0b2ssIGZhbHNlKQoJCQkJZXZhbDI6OkFTVEVtaXQoYXN0dG9rLCB0cnVlKQoJCQllbHNlCgkJCQlTdHJlYW1VdGlsczo6V3JpdGVXYXJuKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsICJObyB2YXJpYWJsZS9maWVsZCBsb2FkcyBhcmUgYWxsb3dlZCB3aXRob3V0IGEgZGVzdGluYXRpb24gYmVpbmcgc3BlY2lmaWVkIikKCQkJZW5kIGlmCgkJZWxzZWlmIHN0bSBpcyBJZlN0bXQgdGhlbgoJCQl2YXIgaWZzdG0gYXMgSWZTdG10ID0gJElmU3RtdCRzdG0KCQkJU3ltVGFibGU6OkFkZElmKCkKCQkJU3ltVGFibGU6OlB1c2hTY29wZSgpCgkJCW5ldyBFdmFsdWF0b3IoKTo6RXZhbHVhdGUoaWZzdG06OkV4cCkKCQkJaWYgIUFzbUZhY3Rvcnk6OlR5cGUwMjo6RXF1YWxzKExvYWRlcjo6Q2FjaGVkTG9hZENsYXNzKCJTeXN0ZW0uQm9vbGVhbiIpKSB0aGVuCgkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiQ29uZGl0aW9ucyBmb3IgSWYgU3RhdGVtZW50cyBzaG91bGQgZXZhbHVhdGUgdG8gYm9vbGVhbi4iKQoJCQllbmQgaWYKCQkJSUxFbWl0dGVyOjpFbWl0QnJmYWxzZShTeW1UYWJsZTo6UmVhZElmTnh0QmxrTGJsKCkpCgkJZWxzZWlmIHN0bSBpcyBEb1N0bXQgdGhlbgoJCQlTeW1UYWJsZTo6UHVzaFNjb3BlKCkKCQkJU3ltVGFibGU6OkFkZExvb3AoKQoJCQlJTEVtaXR0ZXI6Ok1hcmtMYmwoU3ltVGFibGU6OlJlYWRMb29wU3RhcnRMYmwoKSkKCQllbHNlaWYgc3RtIGlzIEJyZWFrU3RtdCB0aGVuCgkJCUlMRW1pdHRlcjo6RW1pdEJyKFN5bVRhYmxlOjpSZWFkTG9vcEVuZExibCgpKQoJCWVsc2VpZiBzdG0gaXMgQ29udGludWVTdG10IHRoZW4KCQkJdmFyIGZsID0gU3ltVGFibGU6OlJlYWRMb29wKCkgYXMgRm9yTG9vcEl0ZW0KCQkJaWYgZmwgIT0gbnVsbCB0aGVuCgkJCQlpZiAhZmw6OkNvbnRpbnVlRmxnIHRoZW4KCQkJCQlmbDo6Q29udGludWVGbGcgPSB0cnVlCgkJCQkJZmw6OlN0ZXBMYWJlbCA9IElMRW1pdHRlcjo6RGVmaW5lTGJsKCkKCQkJCWVuZCBpZgoJCQkJSUxFbWl0dGVyOjpFbWl0QnIoZmw6OlN0ZXBMYWJlbCkKCQkJZWxzZQoJCQkJSUxFbWl0dGVyOjpFbWl0QnIoU3ltVGFibGU6OlJlYWRMb29wU3RhcnRMYmwoKSkKCQkJZW5kIGlmCgkJZWxzZWlmIHN0bSBpcyBVbnRpbFN0bXQgdGhlbgoJCQl2YXIgdW5zdG0gYXMgVW50aWxTdG10ID0gJFVudGlsU3RtdCRzdG0KCQkJbmV3IEV2YWx1YXRvcigpOjpFdmFsdWF0ZSh1bnN0bTo6RXhwKQoJCQlpZiAhQXNtRmFjdG9yeTo6VHlwZTAyOjpFcXVhbHMoTG9hZGVyOjpDYWNoZWRMb2FkQ2xhc3MoIlN5c3RlbS5Cb29sZWFuIikpIHRoZW4KCQkJCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsICJDb25kaXRpb25zIGZvciBVbnRpbCBTdGF0ZW1lbnRzIHNob3VsZCBldmFsdWF0ZSB0byBib29sZWFuLiIpCgkJCWVuZCBpZgoJCQlJTEVtaXR0ZXI6OkVtaXRCcmZhbHNlKFN5bVRhYmxlOjpSZWFkTG9vcFN0YXJ0TGJsKCkpCgkJCUlMRW1pdHRlcjo6TWFya0xibChTeW1UYWJsZTo6UmVhZExvb3BFbmRMYmwoKSkKCQkJU3ltVGFibGU6OlBvcExvb3AoKQoJCQlTeW1UYWJsZTo6UG9wU2NvcGUoKQoJCWVsc2VpZiBzdG0gaXMgV2hpbGVTdG10IHRoZW4KCQkJdmFyIHdoc3RtIGFzIFdoaWxlU3RtdCA9ICRXaGlsZVN0bXQkc3RtCgkJCW5ldyBFdmFsdWF0b3IoKTo6RXZhbHVhdGUod2hzdG06OkV4cCkKCQkJaWYgIUFzbUZhY3Rvcnk6OlR5cGUwMjo6RXF1YWxzKExvYWRlcjo6Q2FjaGVkTG9hZENsYXNzKCJTeXN0ZW0uQm9vbGVhbiIpKSB0aGVuCgkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiQ29uZGl0aW9ucyBmb3IgV2hpbGUgU3RhdGVtZW50cyBzaG91bGQgZXZhbHVhdGUgdG8gYm9vbGVhbi4iKQoJCQllbmQgaWYKCQkJSUxFbWl0dGVyOjpFbWl0QnJ0cnVlKFN5bVRhYmxlOjpSZWFkTG9vcFN0YXJ0TGJsKCkpCgkJCUlMRW1pdHRlcjo6TWFya0xibChTeW1UYWJsZTo6UmVhZExvb3BFbmRMYmwoKSkKCQkJU3ltVGFibGU6OlBvcExvb3AoKQoJCQlTeW1UYWJsZTo6UG9wU2NvcGUoKQoJCWVsc2VpZiBzdG0gaXMgRG9VbnRpbFN0bXQgdGhlbgoJCQl2YXIgZHVzdG0gYXMgRG9VbnRpbFN0bXQgPSAkRG9VbnRpbFN0bXQkc3RtCgkJCVN5bVRhYmxlOjpQdXNoU2NvcGUoKQoJCQlTeW1UYWJsZTo6QWRkTG9vcCgpCgkJCUlMRW1pdHRlcjo6TWFya0xibChTeW1UYWJsZTo6UmVhZExvb3BTdGFydExibCgpKQoJCQluZXcgRXZhbHVhdG9yKCk6OkV2YWx1YXRlKGR1c3RtOjpFeHApCgkJCWlmICFBc21GYWN0b3J5OjpUeXBlMDI6OkVxdWFscyhMb2FkZXI6OkNhY2hlZExvYWRDbGFzcygiU3lzdGVtLkJvb2xlYW4iKSkgdGhlbgoJCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgIkNvbmRpdGlvbnMgZm9yIERvIFVudGlsIFN0YXRlbWVudHMgc2hvdWxkIGV2YWx1YXRlIHRvIGJvb2xlYW4uIikKCQkJZW5kIGlmCgkJCUlMRW1pdHRlcjo6RW1pdEJydHJ1ZShTeW1UYWJsZTo6UmVhZExvb3BFbmRMYmwoKSkKCQllbHNlaWYgc3RtIGlzIERvV2hpbGVTdG10IHRoZW4KCQkJdmFyIGR3c3RtIGFzIERvV2hpbGVTdG10ID0gJERvV2hpbGVTdG10JHN0bQoJCQlTeW1UYWJsZTo6UHVzaFNjb3BlKCkKCQkJU3ltVGFibGU6OkFkZExvb3AoKQoJCQlJTEVtaXR0ZXI6Ok1hcmtMYmwoU3ltVGFibGU6OlJlYWRMb29wU3RhcnRMYmwoKSkKCQkJbmV3IEV2YWx1YXRvcigpOjpFdmFsdWF0ZShkd3N0bTo6RXhwKQoJCQlpZiAhQXNtRmFjdG9yeTo6VHlwZTAyOjpFcXVhbHMoTG9hZGVyOjpDYWNoZWRMb2FkQ2xhc3MoIlN5c3RlbS5Cb29sZWFuIikpIHRoZW4KCQkJCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsICJDb25kaXRpb25zIGZvciBEbyBXaGlsZSBTdGF0ZW1lbnRzIHNob3VsZCBldmFsdWF0ZSB0byBib29sZWFuLiIpCgkJCWVuZCBpZgoJCQlJTEVtaXR0ZXI6OkVtaXRCcmZhbHNlKFN5bVRhYmxlOjpSZWFkTG9vcEVuZExibCgpKQoJCWVsc2VpZiBzdG0gaXMgRm9yU3RtdCB0aGVuCgkJCVJlYWRGb3IoJEZvclN0bXQkc3RtLCBmcGF0aCkKCQllbHNlaWYgc3RtIGlzIEVsc2VJZlN0bXQgdGhlbgoJCQlJTEVtaXR0ZXI6OkVtaXRCcihTeW1UYWJsZTo6UmVhZElmRW5kTGJsKCkpCgkJCUlMRW1pdHRlcjo6TWFya0xibChTeW1UYWJsZTo6UmVhZElmTnh0QmxrTGJsKCkpCgkJCVN5bVRhYmxlOjpTZXRJZk54dEJsa0xibCgpCgkJCXZhciBlbGlmc3RtIGFzIEVsc2VJZlN0bXQgPSAkRWxzZUlmU3RtdCRzdG0KCQkJU3ltVGFibGU6OlBvcFNjb3BlKCkKCQkJU3ltVGFibGU6OlB1c2hTY29wZSgpCgkJCW5ldyBFdmFsdWF0b3IoKTo6RXZhbHVhdGUoZWxpZnN0bTo6RXhwKQoJCQlpZiAhQXNtRmFjdG9yeTo6VHlwZTAyOjpFcXVhbHMoTG9hZGVyOjpDYWNoZWRMb2FkQ2xhc3MoIlN5c3RlbS5Cb29sZWFuIikpIHRoZW4KCQkJCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsICJDb25kaXRpb25zIGZvciBFbHNlSWYgU3RhdGVtZW50cyBzaG91bGQgZXZhbHVhdGUgdG8gYm9vbGVhbi4iKQoJCQllbmQgaWYKCQkJSUxFbWl0dGVyOjpFbWl0QnJmYWxzZShTeW1UYWJsZTo6UmVhZElmTnh0QmxrTGJsKCkpCgkJZWxzZWlmIHN0bSBpcyBFbHNlU3RtdCB0aGVuCgkJCUlMRW1pdHRlcjo6RW1pdEJyKFN5bVRhYmxlOjpSZWFkSWZFbmRMYmwoKSkKCQkJSUxFbWl0dGVyOjpNYXJrTGJsKFN5bVRhYmxlOjpSZWFkSWZOeHRCbGtMYmwoKSkKCQkJU3ltVGFibGU6OlNldElmRWxzZVBhc3MoKQoJCQlTeW1UYWJsZTo6UG9wU2NvcGUoKQoJCQlTeW1UYWJsZTo6UHVzaFNjb3BlKCkKCQllbHNlaWYgc3RtIGlzIEVuZElmU3RtdCB0aGVuCgkJCWlmICFTeW1UYWJsZTo6UmVhZElmRWxzZVBhc3MoKSB0aGVuCgkJCQlJTEVtaXR0ZXI6Ok1hcmtMYmwoU3ltVGFibGU6OlJlYWRJZk54dEJsa0xibCgpKQoJCQllbmQgaWYKCQkJSUxFbWl0dGVyOjpNYXJrTGJsKFN5bVRhYmxlOjpSZWFkSWZFbmRMYmwoKSkKCQkJU3ltVGFibGU6OlBvcElmKCkKCQkJU3ltVGFibGU6OlBvcFNjb3BlKCkKCQllbHNlaWYgc3RtIGlzIEVuZERvU3RtdCB0aGVuCgkJCVJlYWRFbmREbyhmcGF0aCkKCQllbHNlaWYgc3RtIGlzIExhYmVsU3RtdCB0aGVuCgkJCVN5bVRhYmxlOjpBZGRMYmwoI2V4cHIoJExhYmVsU3RtdCRzdG0pOjpMYWJlbE5hbWU6OlZhbHVlKQoJCWVsc2VpZiBzdG0gaXMgUGxhY2VTdG10IHRoZW4KCQkJSUxFbWl0dGVyOjpNYXJrTGJsKEhlbHBlcnM6OkdldExibCgjZXhwcigkUGxhY2VTdG10JHN0bSk6OkxhYmVsTmFtZTo6VmFsdWUpKQoJCWVsc2VpZiBzdG0gaXMgR290b1N0bXQgdGhlbgoJCQlJTEVtaXR0ZXI6OkVtaXRCcihIZWxwZXJzOjpHZXRMYmwoI2V4cHIoJEdvdG9TdG10JHN0bSk6OkxhYmVsTmFtZTo6VmFsdWUpKQoJCWVsc2VpZiBzdG0gaXMgVGhyb3dTdG10IHRoZW4KCQkJdmFyIHRyb3N0bXQgYXMgVGhyb3dTdG10ID0gJFRocm93U3RtdCRzdG0KCQkJaWYgdHJvc3RtdDo6UkV4cCAhPSBudWxsIHRoZW4KCQkJCW5ldyBFdmFsdWF0b3IoKTo6RXZhbHVhdGUodHJvc3RtdDo6UkV4cCkKCQkJCWlmICFMb2FkZXI6OkNhY2hlZExvYWRDbGFzcygiU3lzdGVtLkV4Y2VwdGlvbiIpOjpJc0Fzc2lnbmFibGVGcm9tKEFzbUZhY3Rvcnk6OlR5cGUwMikgdGhlbgoJCQkJCVN0cmVhbVV0aWxzOjpXcml0ZUVycm9yKElMRW1pdHRlcjo6TGluZU5yLCBJTEVtaXR0ZXI6OkN1clNyY0ZpbGUsICJUeXBlICciICsgQXNtRmFjdG9yeTo6VHlwZTAyOjpUb1N0cmluZygpICsgIicgaXMgbm90IGFuIEV4Y2VwdGlvbiBUeXBlLiIpCgkJCQllbmQgaWYKCQkJCUlMRW1pdHRlcjo6RW1pdFRocm93KCkKCQkJZWxzZQoJCQkJaWYgU3ltVGFibGU6OkdldEluQ2F0Y2goKSB0aGVuCgkJCQkJSUxFbWl0dGVyOjpFbWl0UmV0aHJvdygpCgkJCQllbHNlCgkJCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgIk5vIGV4Y2VwdGlvbiB0byB0aHJvdyBzcGVjaWZpZWQiKQoJCQkJZW5kIGlmCgkJCWVuZCBpZgoJCWVsc2VpZiBzdG0gaXMgVHJ5U3RtdCB0aGVuCgkJCVN5bVRhYmxlOjpQdXNoU2NvcGUoKQoJCQlJTEVtaXR0ZXI6OkVtaXRUcnkoKQoJCQlTeW1UYWJsZTo6QWRkVHJ5KCkKCQllbHNlaWYgc3RtIGlzIEVuZFRyeVN0bXQgdGhlbgoJCQlJTEVtaXR0ZXI6OkVtaXRFbmRUcnkoKQoJCQlTeW1UYWJsZTo6UG9wU2NvcGUoKQoJCQlTeW1UYWJsZTo6UG9wVHJ5KCkKCQllbHNlaWYgc3RtIGlzIEZpbmFsbHlTdG10IHRoZW4KCQkJU3ltVGFibGU6OlBvcFNjb3BlKCkKCQkJU3ltVGFibGU6OlB1c2hTY29wZSgpCgkJCVN5bVRhYmxlOjpTZXRJbkNhdGNoKGZhbHNlKQoJCQlJTEVtaXR0ZXI6OkVtaXRGaW5hbGx5KCkKCQllbHNlaWYgc3RtIGlzIEVuZFVzaW5nU3RtdCB0aGVuCgkJCUlMRW1pdHRlcjo6RW1pdEZpbmFsbHkoKQoJCQl2YXIgdXYgPSBTeW1UYWJsZTo6UmVhZFVzZWVMb2MoKQoJCQl2YXIgaWRpc3AgPSBMb2FkZXI6OkNhY2hlZExvYWRDbGFzcygiU3lzdGVtLklEaXNwb3NhYmxlIikKCQkJbmV3IEV2YWx1YXRvcigpOjpFdmFsdWF0ZShuZXcgRXhwcigpIHtMaW5lID0gSUxFbWl0dGVyOjpMaW5lTnIsIEFkZFRva2VuKG5ldyBFeHByQ2FsbFRvaygpIHtMaW5lID0gSUxFbWl0dGVyOjpMaW5lTnIsIEV4cCA9IG5ldyBFeHByKCkgeyBfCgkJCQlBZGRUb2tlbihuZXcgSWRlbnQodXYpIHtMaW5lID0gSUxFbWl0dGVyOjpMaW5lTnIsIHNldF9Db252KCFpZGlzcDo6RXF1YWxzKFN5bVRhYmxlOjpGaW5kVmFyKHV2KTo6VmFyVHlwKSksIF8KCQkJCXNldF9UVG9rKG5ldyBUeXBlVG9rKCJTeXN0ZW0uSURpc3Bvc2FibGUiKSB7UmVmVHlwID0gaWRpc3B9KSwgc2V0X09yZE9wKCJjb252IikgfSl9LCBfCgkJCQlNZW1iZXJBY2Nlc3NGbGcgPSB0cnVlLCBNZW1iZXJUb0FjY2VzcyA9IG5ldyBNZXRob2RDYWxsVG9rKCkge0xpbmUgPSBJTEVtaXR0ZXI6OkxpbmVOciwgTmFtZSA9IG5ldyBNZXRob2ROYW1lVG9rKCJEaXNwb3NlIikge0xpbmUgPSBJTEVtaXR0ZXI6OkxpbmVOcn0gfSB9KX0pCgkJCUlMRW1pdHRlcjo6RW1pdEVuZFRyeSgpCgkJCVN5bVRhYmxlOjpQb3BTY29wZSgpCgkJCVN5bVRhYmxlOjpQb3BVc2luZygpCgkJZWxzZWlmIHN0bSBpcyBDYXRjaFN0bXQgdGhlbgoJCQlTeW1UYWJsZTo6UG9wU2NvcGUoKQoJCQlTeW1UYWJsZTo6UHVzaFNjb3BlKCkKCQkJdmFyIGNhdHMgYXMgQ2F0Y2hTdG10ID0gJENhdGNoU3RtdCRzdG0KCQkJdnR5cCA9IEhlbHBlcnM6OkNvbW1pdEV2YWxUVG9rKGNhdHM6OkV4VHlwKQoJCQlpZiB2dHlwID0gbnVsbCB0aGVuCgkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiQ2xhc3MgJyIgKyBjYXRzOjpFeFR5cDo6VmFsdWUgKyAiJyBpcyBub3QgZGVmaW5lZC4iKQoJCQllbmQgaWYKCQkJU3ltVGFibGU6OlNldEluQ2F0Y2godHJ1ZSkKCQkJSUxFbWl0dGVyOjpEZWNsVmFyKGNhdHM6OkV4TmFtZTo6VmFsdWUsIHZ0eXApCgkJCUlMRW1pdHRlcjo6TG9jSW5kKysKCQkJU3ltVGFibGU6OlN0b3JlRmxnID0gdHJ1ZQoJCQlTeW1UYWJsZTo6QWRkVmFyKGNhdHM6OkV4TmFtZTo6VmFsdWUsIHRydWUsIElMRW1pdHRlcjo6TG9jSW5kLCB2dHlwLCBJTEVtaXR0ZXI6OkxpbmVOcikKCQkJU3ltVGFibGU6OlN0b3JlRmxnID0gZmFsc2UKCQkJSUxFbWl0dGVyOjpFbWl0Q2F0Y2godnR5cCkKCQkJSUxFbWl0dGVyOjpFbWl0U3Rsb2MoU3ltVGFibGU6OkZpbmRWYXIoY2F0czo6RXhOYW1lOjpWYWx1ZSk6OkluZGV4KQoJCWVsc2VpZiBzdG0gaXMgTWV0aG9kQXR0clN0bXQgdGhlbgoJCQlTeW1UYWJsZTo6QWRkTXRkQ0EoQXR0clN0bXRUb0NBQigkTWV0aG9kQXR0clN0bXQkc3RtKSkKCQllbHNlaWYgc3RtIGlzIEZpZWxkQXR0clN0bXQgdGhlbgoJCQlTeW1UYWJsZTo6QWRkRmxkQ0EoQXR0clN0bXRUb0NBQigkRmllbGRBdHRyU3RtdCRzdG0pKQoJCWVsc2VpZiBzdG0gaXMgQ2xhc3NBdHRyU3RtdCB0aGVuCgkJCVN5bVRhYmxlOjpBZGRDbHNDQShBdHRyU3RtdFRvQ0FCKCRDbGFzc0F0dHJTdG10JHN0bSkpCgkJZWxzZWlmIHN0bSBpcyBBc3NlbWJseUF0dHJTdG10IHRoZW4KCQkJU3ltVGFibGU6OkFkZEFzbUNBKEF0dHJTdG10VG9DQUIoJEFzc2VtYmx5QXR0clN0bXQkc3RtKSkKCQllbHNlaWYgc3RtIGlzIEZvcmVhY2hTdG10IHRoZW4KCQkJUmVhZEZvcmVhY2goJEZvcmVhY2hTdG10JHN0bSkKCQllbHNlaWYgc3RtIGlzIEhEZWZpbmVTdG10IHRoZW4KCQkJU3ltVGFibGU6OkFkZERlZigjZXhwcigkSERlZmluZVN0bXQkc3RtKTo6U3ltYm9sOjpWYWx1ZSkKCQllbHNlaWYgc3RtIGlzIEhVbmRlZlN0bXQgdGhlbgoJCQlTeW1UYWJsZTo6VW5EZWYoI2V4cHIoJEhVbmRlZlN0bXQkc3RtKTo6U3ltYm9sOjpWYWx1ZSkKCQllbHNlaWYgc3RtIGlzIFdhcm5pbmdTdG10IHRoZW4KCQkJdmFyIHdzdG0gYXMgV2FybmluZ1N0bXQgPSAkV2FybmluZ1N0bXQkc3RtCgkJCVN0cmVhbVV0aWxzOjpXcml0ZVdhcm4oSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgd3N0bTo6TXNnOjpnZXRfVW5xdW90ZWRWYWx1ZSgpKQoJCWVsc2VpZiBzdG0gaXMgRXJyb3JTdG10IHRoZW4KCQkJdmFyIHdzdG0gYXMgRXJyb3JTdG10ID0gJEVycm9yU3RtdCRzdG0KCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgd3N0bTo6TXNnOjpnZXRfVW5xdW90ZWRWYWx1ZSgpKQoJCWVsc2VpZiBzdG0gaXMgUGFyYW1ldGVyQXR0clN0bXQgdGhlbgoJCQl2YXIgcGFzIGFzIFBhcmFtZXRlckF0dHJTdG10ID0gJFBhcmFtZXRlckF0dHJTdG10JHN0bQoJCQlTeW1UYWJsZTo6QWRkUGFyYW1DQShwYXM6OkluZGV4LEF0dHJTdG10VG9DQUIocGFzKSkKCQllbHNlaWYgc3RtIGlzIFByb3BlcnR5U3RtdCB0aGVuCgkJCVJlYWRQcm9wZXJ0eSgkUHJvcGVydHlTdG10JHN0bSwgZnBhdGgpCgkJZWxzZWlmIHN0bSBpcyBQcm9wZXJ0eUdldFN0bXQgdGhlbgoJCQlSZWFkUHJvcGVydHlHZXQoJFByb3BlcnR5R2V0U3RtdCRzdG0sIGZwYXRoKQoJCWVsc2VpZiBzdG0gaXMgRW5kR2V0U3RtdCB0aGVuCgkJCVJlYWQobmV3IEVuZE1ldGhvZFN0bXQoKSB7TGluZSA9IHN0bTo6TGluZX0sIGZwYXRoKQoJCWVsc2VpZiBzdG0gaXMgUHJvcGVydHlTZXRTdG10IHRoZW4KCQkJUmVhZFByb3BlcnR5U2V0KCRQcm9wZXJ0eVNldFN0bXQkc3RtLCBmcGF0aCkKCQllbHNlaWYgc3RtIGlzIEVuZFNldFN0bXQgdGhlbgoJCQlSZWFkKG5ldyBFbmRNZXRob2RTdG10KCkge0xpbmUgPSBzdG06OkxpbmV9LCBmcGF0aCkKCQllbHNlaWYgc3RtIGlzIEVuZFByb3BTdG10IHRoZW4KCQkJU3ltVGFibGU6OkN1cm5Qcm9wID0gbnVsbAoJCWVsc2VpZiBzdG0gaXMgRW5kRXZlbnRTdG10IHRoZW4KCQkJU3ltVGFibGU6OkN1cm5FdmVudCA9IG51bGwKCQllbHNlaWYgc3RtIGlzIEV2ZW50U3RtdCB0aGVuCgkJCVJlYWRFdmVudCgkRXZlbnRTdG10JHN0bSwgZnBhdGgpCgkJZWxzZWlmIHN0bSBpcyBFdmVudEFkZFN0bXQgdGhlbgoJCQlSZWFkRXZlbnRBZGQoJEV2ZW50QWRkU3RtdCRzdG0sIGZwYXRoKQoJCWVsc2VpZiBzdG0gaXMgRW5kQWRkU3RtdCB0aGVuCgkJCVJlYWQobmV3IEVuZE1ldGhvZFN0bXQoKSB7TGluZSA9IHN0bTo6TGluZX0sIGZwYXRoKQoJCWVsc2VpZiBzdG0gaXMgRXZlbnRSZW1vdmVTdG10IHRoZW4KCQkJUmVhZEV2ZW50UmVtb3ZlKCRFdmVudFJlbW92ZVN0bXQkc3RtLCBmcGF0aCkKCQllbHNlaWYgc3RtIGlzIEVuZFJlbW92ZVN0bXQgdGhlbgoJCQlSZWFkKG5ldyBFbmRNZXRob2RTdG10KCkge0xpbmUgPSBzdG06OkxpbmV9LCBmcGF0aCkKCQllbHNlaWYgc3RtIGlzIFByb3BlcnR5QXR0clN0bXQgdGhlbgoJCQlTeW1UYWJsZTo6QWRkUHJvcENBKEF0dHJTdG10VG9DQUIoJFByb3BlcnR5QXR0clN0bXQkc3RtKSkKCQllbHNlaWYgc3RtIGlzIEV2ZW50QXR0clN0bXQgdGhlbgoJCQlTeW1UYWJsZTo6QWRkRXZlbnRDQShBdHRyU3RtdFRvQ0FCKCRFdmVudEF0dHJTdG10JHN0bSkpCgkJZWxzZWlmIHN0bSBpcyBFbnVtQXR0clN0bXQgdGhlbgoJCQlTeW1UYWJsZTo6QWRkRW51bUNBKEF0dHJTdG10VG9DQUIoJEVudW1BdHRyU3RtdCRzdG0pKQoJCWVsc2VpZiBzdG0gaXMgTG9ja1N0bXQgdGhlbgoJCQl2YXIgbHN0bSBhcyBMb2NrU3RtdCA9ICRMb2NrU3RtdCRzdG0KCQkJU3ltVGFibGU6OlB1c2hTY29wZSgpCgkJCW5ldyBFdmFsdWF0b3IoKTo6RXZhbHVhdGUobHN0bTo6TG9ja2VlKQoJCQlpZiBMb2FkZXI6OkNhY2hlZExvYWRDbGFzcygiU3lzdGVtLlZhbHVlVHlwZSIpOjpJc0Fzc2lnbmFibGVGcm9tKEFzbUZhY3Rvcnk6OlR5cGUwMikgdGhlbgoJCQkJU3RyZWFtVXRpbHM6OldyaXRlRXJyb3IoSUxFbWl0dGVyOjpMaW5lTnIsIElMRW1pdHRlcjo6Q3VyU3JjRmlsZSwgIkxvY2tzIHNob3VsZCBvbmx5IGJlIHRha2VuIG9uIE9iamVjdHMgYW5kIG5vdCBWYWx1ZXR5cGVzLiIpCgkJCWVuZCBpZgoJCQlJTEVtaXR0ZXI6OkRlY2xWYXIoU3RyaW5nOjpFbXB0eSwgTG9hZGVyOjpDYWNoZWRMb2FkQ2xhc3MoIlN5c3RlbS5PYmplY3QiKSkKCQkJSUxFbWl0dGVyOjpMb2NJbmQrKwoJCQl2YXIgbG9ja2VlIGFzIGludGVnZXIgPSBJTEVtaXR0ZXI6OkxvY0luZAoJCQlJTEVtaXR0ZXI6OkVtaXRTdGxvYyhsb2NrZWUpCgkJCVN5bVRhYmxlOjpBZGRMb2NrKGxvY2tlZSkKCQkJSUxFbWl0dGVyOjpFbWl0TGRsb2MobG9ja2VlKQoJCQlJTEVtaXR0ZXI6OkVtaXRDYWxsKExvYWRlcjo6Q2FjaGVkTG9hZENsYXNzKCJTeXN0ZW0uVGhyZWFkaW5nLk1vbml0b3IiKTo6R2V0TWV0aG9kKCJFbnRlciIsIG5ldyBJS1ZNLlJlZmxlY3Rpb24uVHlwZVtdIHtMb2FkZXI6OkxvYWRDbGFzcygiU3lzdGVtLk9iamVjdCIpfSkpCgkJCUlMRW1pdHRlcjo6RW1pdFRyeSgpCgkJZWxzZWlmIHN0bSBpcyBUcnlMb2NrU3RtdCB0aGVuCgkJCXZhciBsc3RtIGFzIFRyeUxvY2tTdG10ID0gJFRyeUxvY2tTdG10JHN0bQoJCQlTeW1UYWJsZTo6UHVzaFNjb3BlKCkKCQkJbmV3IEV2YWx1YXRvcigpOjpFdmFsdWF0ZShsc3RtOjpMb2NrZWUpCgkJCWlmIExvYWRlcjo6Q2FjaGVkTG9hZENsYXNzKCJTeXN0ZW0uVmFsdWVUeXBlIik6OklzQXNzaWduYWJsZUZyb20oQXNtRmFjdG9yeTo6VHlwZTAyKSB0aGVuCgkJCQlTdHJlYW1VdGlsczo6V3JpdGVFcnJvcihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiTG9ja3Mgc2hvdWxkIG9ubHkgYmUgdGFrZW4gb24gT2JqZWN0cyBhbmQgbm90IFZhbHVldHlwZXMuIikKCQkJZW5kIGlmCgkJCUlMRW1pdHRlcjo6RGVjbFZhcihTdHJpbmc6OkVtcHR5LCBMb2FkZXI6OkNhY2hlZExvYWRDbGFzcygiU3lzdGVtLk9iamVjdCIpKQoJCQlJTEVtaXR0ZXI6OkxvY0luZCsrCgkJCXZhciBsb2NrZWUgYXMgaW50ZWdlciA9IElMRW1pdHRlcjo6TG9jSW5kCgkJCUlMRW1pdHRlcjo6RW1pdFN0bG9jKGxvY2tlZSkKCQkJU3ltVGFibGU6OkFkZFRyeUxvY2sobG9ja2VlKQoJCQl2YXIgbGkgPSBTeW1UYWJsZTo6UmVhZExvY2soKQoJCQlJTEVtaXR0ZXI6OkVtaXRMZGxvYyhsb2NrZWUpCgkJCUlMRW1pdHRlcjo6RW1pdENhbGwoTG9hZGVyOjpDYWNoZWRMb2FkQ2xhc3MoIlN5c3RlbS5UaHJlYWRpbmcuTW9uaXRvciIpOjpHZXRNZXRob2QoIlRyeUVudGVyIiwgbmV3IElLVk0uUmVmbGVjdGlvbi5UeXBlW10ge0xvYWRlcjo6TG9hZENsYXNzKCJTeXN0ZW0uT2JqZWN0Iil9KSkKCQkJSUxFbWl0dGVyOjpFbWl0QnJmYWxzZShsaTo6TGJsKQoJCQlJTEVtaXR0ZXI6OkVtaXRUcnkoKQoJCWVsc2VpZiBzdG0gaXMgRW5kTG9ja1N0bXQgdGhlbgoJCQlJTEVtaXR0ZXI6OkVtaXRGaW5hbGx5KCkKCQkJdmFyIGxpID0gU3ltVGFibGU6OlJlYWRMb2NrKCkKCQkJSUxFbWl0dGVyOjpFbWl0TGRsb2MobGk6OkxvY2tlZUxvYykKCQkJSUxFbWl0dGVyOjpFbWl0Q2FsbChMb2FkZXI6OkNhY2hlZExvYWRDbGFzcygiU3lzdGVtLlRocmVhZGluZy5Nb25pdG9yIik6OkdldE1ldGhvZCgiRXhpdCIsIG5ldyBJS1ZNLlJlZmxlY3Rpb24uVHlwZVtdIHtMb2FkZXI6OkxvYWRDbGFzcygiU3lzdGVtLk9iamVjdCIpfSkpCgkJCUlMRW1pdHRlcjo6RW1pdEVuZFRyeSgpCgkJCWlmIGxpOjpJc1RyeUxvY2sgdGhlbgoJCQkJSUxFbWl0dGVyOjpNYXJrTGJsKGxpOjpMYmwpCgkJCWVuZCBpZgoJCQlTeW1UYWJsZTo6UG9wTG9jaygpCgkJCVN5bVRhYmxlOjpQb3BTY29wZSgpCgkJZWxzZWlmIHN0bSBpcyBJbmNTdG10IHRoZW4KCQkJdmFyIGljIGFzIEluY1N0bXQgPSAkSW5jU3RtdCRzdG0KCQkJaWM6Ok51bVZhcjo6c2V0X09yZE9wKCJpbmMiKQoJCQlpYzo6TnVtVmFyOjpzZXRfRG9JbmModHJ1ZSkKCQkJbmV3IEV2YWx1YXRvcigpOjpTdG9yZUVtaXQoaWM6Ok51bVZhciwgbmV3IEV4cHIoKSB7QWRkVG9rZW4oaWM6Ok51bVZhcil9KQoJCWVsc2VpZiBzdG0gaXMgRGVjU3RtdCB0aGVuCgkJCXZhciBkYyBhcyBEZWNTdG10ID0gJERlY1N0bXQkc3RtCgkJCWRjOjpOdW1WYXI6OnNldF9PcmRPcCgiZGVjIikKCQkJZGM6Ok51bVZhcjo6c2V0X0RvRGVjKHRydWUpCgkJCW5ldyBFdmFsdWF0b3IoKTo6U3RvcmVFbWl0KGRjOjpOdW1WYXIsIG5ldyBFeHByKCkge0FkZFRva2VuKGRjOjpOdW1WYXIpfSkKCQllbHNlaWYgc3RtIGlzIElnbm9yYWJsZVN0bXQgdGhlbgoJCWVsc2UKCQkJU3RyZWFtVXRpbHM6OldyaXRlV2FybihJTEVtaXR0ZXI6OkxpbmVOciwgSUxFbWl0dGVyOjpDdXJTcmNGaWxlLCAiUHJvY2Vzc2luZyBvZiB0aGlzIHR5cGUgb2Ygc3RhdGVtZW50IGlzIG5vdCBzdXBwb3J0ZWQuIikKCQllbmQgaWYKCWVuZCBtZXRob2QKCmVuZCBjbGFzcwoL</value></data></root>