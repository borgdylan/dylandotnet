class public auto ansi CodeGenerator

method public void EmitMSIL(var stmts as StmtSet)

var i as integer = -1
var len as integer = stmts::Stmts[l] - 1
var stm as Stmt = null
var typ as System.Type
var b as boolean

label loop
label cont

place loop

i++

stm = stmts::Stmts[i]
typ = gettype IncludeStmt
b = typ::IsInstanceOfType($object$stm)

if b = true then
else

var sr as StmtReader = new StmtReader()
sr::Read(stm)

end if

if i = len then
goto cont
else
goto loop
end if

place cont

end method

end class